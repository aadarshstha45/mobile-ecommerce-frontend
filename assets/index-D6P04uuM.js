import{q as S,r as f,j as s,L as O,F as b,S as C,T as h,as as T,at as y,au as P,C as w,av as _,aQ as R,aw as F,a7 as L,ae as M,n as $}from"./index-Cpei8luH.js";import{b as z}from"./index-BY8M7nOJ.js";import{P as D}from"./PaginationButton-DuJ4t315.js";import{C as I}from"./chunk-YQO7BFFX-DVVwanA3.js";import{C as k}from"./chunk-2EW3JUUD-CMromys5.js";import{T as H,a as N,b as v,c as p,d as t,e as B,f as n}from"./chunk-MGVPL3OH-DXnCClyw.js";import{T as E}from"./chunk-B5H2YLEF-DdiAdY_S.js";import"./chevron-right-CvrgT8O1.js";const W=({data:d,isPending:j})=>{const{isOpen:u,onOpen:g,onClose:m}=S(),[a,o]=f.useState(null),l=e=>{g(),o(e)},r=()=>{o(null),m()};return s.jsxs(s.Fragment,{children:[j?s.jsx(O,{height:window.innerHeight/2}):d.data.length>0?d.data.map(e=>s.jsx(I,{cursor:"pointer",zIndex:0,shadow:"none",borderRadius:0,p:0,border:"1px solid",borderColor:"#939292",mb:4,onClick:()=>l(e),children:s.jsxs(k,{as:b,justify:"space-between",align:"center",flexWrap:"wrap",gap:6,children:[s.jsxs(C,{children:[s.jsxs(h,{fontSize:{base:"sm",md:"md"},children:["Order Id: #",e.order_number]}),s.jsxs(h,{fontSize:{base:"14px",md:"16px",lg:"18px"},color:"#939292",children:["Placed On: ",e.order_date]})]}),s.jsx(C,{align:"center",gap:2,children:s.jsxs(h,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Rs. ",e.total_amount]})})]})},e.id)):s.jsx(b,{justifyContent:"center",alignItems:"center",height:window.innerHeight/4,children:s.jsx(h,{fontSize:"lg",children:"No Orders Found"})}),a&&s.jsxs(T,{isOpen:u,onClose:r,motionPreset:"slideInTop",children:[s.jsx(y,{}),s.jsxs(P,{px:1,as:w,maxW:{base:"98vw",lg:"fit-content"},children:[s.jsx(_,{}),s.jsxs(R,{children:["Order Id: #",a.order_number]}),s.jsx(F,{children:s.jsx(H,{children:s.jsxs(N,{children:[s.jsx(v,{children:s.jsxs(p,{bg:"gray.50",children:[s.jsx(t,{children:"S.N."}),s.jsx(t,{children:"Product Name"}),s.jsx(t,{children:"Quantity"}),s.jsx(t,{children:"Price"}),s.jsx(t,{children:"Discount"}),s.jsx(t,{children:"Amount"})]})}),s.jsx(B,{children:a.order_items.map((e,x)=>{var i,c;return s.jsxs(p,{children:[s.jsx(n,{children:x+1}),s.jsx(n,{children:s.jsx(L,{as:M,to:e.product.subcategory?`/product/${(i=e.product.category)==null?void 0:i.slug}/${e.product.subcategory.slug}/${e.product.id}`:`/product/${(c=e.product.category)==null?void 0:c.slug}/${e.product.id}`,children:e.product.name})}),s.jsx(n,{children:e.quantity}),s.jsxs(n,{children:["Rs. ",e.price]}),s.jsxs(n,{children:["Rs. ",e.discount??0]}),s.jsxs(n,{children:["Rs. ",e.total]})]},x)})}),s.jsxs(E,{children:[s.jsxs(p,{children:[s.jsx(n,{colSpan:3}),s.jsx(n,{children:"Discount"}),s.jsxs(n,{children:["Rs. ",a.discount_amount??0]}),s.jsx(n,{})]}),s.jsxs(p,{children:[s.jsx(n,{colSpan:3}),s.jsx(n,{children:"Grand Total"}),s.jsx(n,{}),s.jsxs(n,{children:["Rs. ",a.total_amount]})]})]})]})})})]})]})]})},X=({fromDate:d,toDate:j,status:u})=>{var i,c;const g=$(),m=new URLSearchParams(g.search),a=Number(m.get("page"))||1,[o,l]=f.useState(1),{data:r,isPending:e,isFetching:x}=z(o,u,d,j);return f.useEffect(()=>{l(a)},[a]),s.jsxs(b,{flexDir:"column",gap:4,children:[s.jsx(C,{gap:4}),x?s.jsx(O,{height:window.innerWidth/4}):s.jsx(W,{data:r??{data:[],message:""},isPending:e}),(r==null?void 0:r.pagination)&&r.pagination.total_pages>1&&s.jsx(D,{currentPage:((i=r==null?void 0:r.pagination)==null?void 0:i.current_page)??o,setCurrentPage:l,totalPages:((c=r==null?void 0:r.pagination)==null?void 0:c.total_pages)??10})]})};export{X as default};
