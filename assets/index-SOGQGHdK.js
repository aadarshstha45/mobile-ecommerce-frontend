import{a4 as P,r as f,j as s,s as O,F as b,S as C,T as p,as as S,at as T,au as y,C as w,av as _,aP as R,aw as F,a9 as L,L as M,p as $}from"./index-C0N_k8Eq.js";import{b as z}from"./index-DK_LnZuB.js";import{P as D}from"./PaginationButton-D-2UBgaK.js";import{C as I}from"./chunk-YQO7BFFX-CC_80wMc.js";import{C as k}from"./chunk-2EW3JUUD-BEAAyTrx.js";import{T as H,a as N,b as v,c as h,d as t,e as B,f as r}from"./chunk-MGVPL3OH-Bpnx2v1M.js";import{T as E}from"./chunk-B5H2YLEF-BM32jYmu.js";import"./chevron-right-BTxYXNJS.js";const U=({data:l,isPending:j})=>{const{isOpen:u,onOpen:g,onClose:m}=P(),[a,o]=f.useState(null),d=e=>{g(),o(e)},n=()=>{o(null),m()};return s.jsxs(s.Fragment,{children:[j?s.jsx(O,{height:window.innerHeight/2}):l.data.length>0?l.data.map(e=>s.jsx(I,{cursor:"pointer",zIndex:0,shadow:"none",borderRadius:0,p:0,border:"1px solid",borderColor:"#939292",mb:4,onClick:()=>d(e),children:s.jsxs(k,{as:b,justify:"space-between",align:"center",flexWrap:"wrap",gap:6,children:[s.jsxs(C,{children:[s.jsxs(p,{fontSize:{base:"sm",md:"md"},children:["Order Id: #",e.order_number]}),s.jsxs(p,{fontSize:{base:"14px",md:"16px",lg:"18px"},color:"#939292",children:["Placed On: ",e.order_date]})]}),s.jsx(C,{align:"center",gap:2,children:s.jsxs(p,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Rs. ",e.total_amount]})})]})},e.id)):s.jsx(b,{justifyContent:"center",alignItems:"center",height:window.innerHeight/4,children:s.jsx(p,{fontSize:"lg",children:"No Orders Found"})}),a&&s.jsxs(S,{isOpen:u,onClose:n,motionPreset:"slideInTop",children:[s.jsx(T,{}),s.jsxs(y,{px:1,as:w,maxW:{base:"98vw",lg:"fit-content"},children:[s.jsx(_,{}),s.jsxs(R,{children:["Order Id: #",a.order_number]}),s.jsx(F,{children:s.jsx(H,{children:s.jsxs(N,{children:[s.jsx(v,{children:s.jsxs(h,{bg:"gray.50",children:[s.jsx(t,{children:"S.N."}),s.jsx(t,{children:"Product Name"}),s.jsx(t,{children:"Quantity"}),s.jsx(t,{children:"Price"}),s.jsx(t,{children:"Discount"}),s.jsx(t,{children:"Amount"})]})}),s.jsx(B,{children:a.order_items.map((e,x)=>{var i,c;return s.jsxs(h,{children:[s.jsx(r,{children:x+1}),s.jsx(r,{children:s.jsx(L,{as:M,to:e.product.subcategory?`/product/${(i=e.product.category)==null?void 0:i.slug}/${e.product.subcategory.slug}/${e.product.id}`:`/product/${(c=e.product.category)==null?void 0:c.slug}/${e.product.id}`,children:e.product.name})}),s.jsx(r,{children:e.quantity}),s.jsxs(r,{children:["Rs. ",e.price]}),s.jsxs(r,{children:["Rs. ",e.discount??0]}),s.jsxs(r,{children:["Rs. ",e.total]})]},x)})}),s.jsxs(E,{children:[s.jsxs(h,{children:[s.jsx(r,{colSpan:3}),s.jsx(r,{children:"Discount"}),s.jsxs(r,{children:["Rs. ",a.discount_amount??0]}),s.jsx(r,{})]}),s.jsxs(h,{children:[s.jsx(r,{colSpan:3}),s.jsx(r,{children:"Grand Total"}),s.jsx(r,{}),s.jsxs(r,{children:["Rs. ",a.total_amount]})]})]})]})})})]})]})]})},X=({fromDate:l,toDate:j,status:u})=>{var i,c;const g=$(),m=new URLSearchParams(g.search),a=Number(m.get("page"))||1,[o,d]=f.useState(1),{data:n,isPending:e,isFetching:x}=z(o,u,l,j);return console.log(n),f.useEffect(()=>{d(a)},[a]),s.jsxs(b,{flexDir:"column",gap:4,children:[s.jsx(C,{gap:4}),x?s.jsx(O,{}):s.jsx(U,{data:n??{data:[],message:""},isPending:e}),(n==null?void 0:n.pagination)&&n.pagination.total_pages>1&&s.jsx(D,{currentPage:((i=n==null?void 0:n.pagination)==null?void 0:i.current_page)??o,setCurrentPage:d,totalPages:((c=n==null?void 0:n.pagination)==null?void 0:c.total_pages)??10})]})};export{X as default};
