import{u as B,a as _,b as E,c as L,r as a,d as D,j as s,C as M,L as j,F as n,S as k,T as S,M as I,e as N}from"./index-Cjcb6Cy6.js";import{B as R}from"./index-B5qsS3gk.js";import{S as T}from"./SelectInput-BkHnvah6.js";import{c as U,I as z}from"./index-NKkut9nU.js";import{P as W}from"./PaginationButton-bW_o9A2X.js";import{s as q}from"./data-BjPZZWce.js";import"./chevron-right-CJQyeDfF.js";import"./chunk-H46NUPBZ-Bq3O0Iqe.js";import"./index-BzatPSNw.js";import"./GoogleIcon-BHc-kW6u.js";import"./TextInput-DTYyJr8v.js";import"./x-C1A-ezDW.js";import"./auth-HVjfkO0o.js";import"./zod-BQRhBsVk.js";import"./chunk-EC6XFFZH-DD83VoCE.js";import"./index-CTJsrxjC.js";import"./chunk-2EW3JUUD-BAszD721.js";import"./chunk-YQO7BFFX-BZscT2uM.js";import"./chunk-FHHZMTWR-BuowgLkS.js";import"./shopping-bag-DRs0ByBS.js";function cs(){var x,d,h,f;const{category_slug:l,slug:i}=B(),P=_(),[o]=E("(max-width: 540px)"),y=L(),t=new URLSearchParams(y.search),c=Number(t.get("page"))||1,u=t.get("sort")||"",[b,m]=a.useState(1),[p,g]=a.useState("");if(!i)throw new Error("Slug is required");const w=l?{category_slug:l,slug:i}:i,{data:r,isPending:v,isFetching:C}=D(c,w,p);a.useEffect(()=>{m(c)},[c]),a.useEffect(()=>{g(u)},[u]);const F=e=>{g(e.value),e.value!==""&&(t.set("page","1"),t.set("sort",e.value),P(`?${t.toString()}`))};return s.jsx(M,{as:"section",id:"collection",maxW:{base:"98vw",md:"95vw",lg:"80vw"},py:10,children:v?s.jsx(j,{}):s.jsxs(s.Fragment,{children:[s.jsxs(n,{gap:4,flexDir:o?"column":"row",justify:o?"center":"space-between",align:o?"start":"space-between",children:[s.jsxs(k,{gap:2,children:[s.jsx(S,{fontSize:{base:"18px",sm:"20px",md:"22px",lg:"24px"},fontWeight:500,children:(x=r==null?void 0:r.breadcrumbs)==null?void 0:x.category.name}),s.jsx(R,{})]}),s.jsx(T,{isControlled:!1,value:p,placeholder:"Sort by",name:"sort",handleChange:F,options:q})]}),s.jsxs(n,{mt:-6,flexDir:"column",gap:4,children:[s.jsx(n,{gap:4,mt:12,children:s.jsx(n,{flexDir:"column",w:{base:"full"},children:C?s.jsx(j,{}):r&&((d=r.data)==null?void 0:d.length)>0?s.jsx(I,{columnsCountBreakPoints:U,children:s.jsx(N,{gutter:o?"10px":"20px",children:r==null?void 0:r.data.map(e=>s.jsx(z,{data:e,discountPercent:e==null?void 0:e.discount,colorOptions:(e==null?void 0:e.product_properties)&&e.product_properties},e.id))})}):s.jsx(S,{fontSize:"xl",children:"No products found"})})}),(r==null?void 0:r.pagination.total_items)>12&&s.jsx(W,{currentPage:((h=r==null?void 0:r.pagination)==null?void 0:h.current_page)??b,setCurrentPage:m,totalPages:((f=r==null?void 0:r.pagination)==null?void 0:f.total_pages)??2,sort:p})]})]})})}export{cs as default};
