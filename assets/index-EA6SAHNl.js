import{w as R,aS as F,ax as k,aM as W,V as M,j as s,aD as T,aE as E,aF as H,aT as _,aH as V,as as c,aN as G,T as n,Y as B,a4 as b,a2 as y,B as d,aK as N,aO as q,Q as O,r as P,S as I,F as g,x as z,b9 as J,aJ as K,I as Q,az as Y}from"./index-CpGNqzAf.js";import{a as Z,u as U,b as X}from"./index-C6Gf2FLw.js";import{A as ee,G as se}from"./GoogleIcon-DIMWtCPJ.js";import"./SelectInput-hUO6FQHG.js";import{T as $}from"./TextInput-BYGBnmSL.js";import{L as te}from"./auth-C8FziZaV.js";import{A as oe,L as re}from"./chunk-EC6XFFZH-CjSDpj7c.js";import{t as ie}from"./zod-WHogRNC5.js";import{L as ne}from"./index-QjUK-yV9.js";import{C as ce}from"./chunk-2EW3JUUD-DLDU2rWL.js";import{C as ae}from"./chunk-FHHZMTWR-DGbBwlUF.js";import{C as le}from"./chunk-YQO7BFFX-LkfAAE5L.js";import{S as de}from"./shopping-bag-D2Q0cD7y.js";var pe=R({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"});const f={getProducts:"/get-products",getProductById:e=>`/get-product-details/${e}`,getRelatedProducts:e=>`/get-related-products/${e}`,getProductsByCategory:e=>`/get-products-by-category/${e}`,getProductsBySearch:e=>`/get-products-by-search/${e}`,getProductsByFilter:e=>`/get-products-by-filter/${e}`,getProductsByPrice:(e,i)=>`/get-products-by-price/${e}/${i}`,getProductsByRating:e=>`/get-products-by-rating/${e}`,getProductsByDiscount:e=>`/get-products-by-discount/${e}`,getProductsByColor:e=>`/get-products-by-color/${e}`,getProductsBySize:e=>`/get-products-by-size/${e}`,getProductsByBrand:e=>`/get-products-by-brand/${e}`,getProductsByTag:e=>`/get-products-by-tag/${e}`,getProductsByType:e=>`/get-products-by-type/${e}`,getProductsByMaterial:e=>`/get-products-by-material/${e}`,getProductsByPattern:e=>`/get-products-by-pattern/${e}`,getProductsByStyle:e=>`/get-products-by-style/${e}`,getProductsByTheme:e=>`/get-products-by-theme/${e}`,getProductsByOccasion:e=>`/get-products-by-occasion/${e}`,getProductsBySeason:e=>`/get-products-by-season/${e}`,addViewAction:"/add-view-action"},ze=e=>F({apiEndPoint:f.getProductById(e)}),$e=e=>F({apiEndPoint:f.getRelatedProducts(e)}),ue=()=>k({apiEndPoint:f.addViewAction});function xe({isOpen:e,onClose:i}){const{mutateAsync:t,isPending:m}=W(),{control:p,formState:{errors:u},reset:a,handleSubmit:o}=M({defaultValues:{email:"",password:""},resolver:ie(te)}),l=async x=>{await t(x),a({email:"",password:""}),i(),a()},h=()=>{a({email:"",password:""}),i()};return s.jsxs(T,{isOpen:e,onClose:h,children:[s.jsx(E,{}),s.jsxs(H,{as:"form",onSubmit:o(l),children:[s.jsx(_,{textAlign:"center",children:"Login"}),s.jsxs(V,{py:6,children:[s.jsx($,{errors:u,label:"Email",name:"email",control:p,leftIcon:s.jsx(oe,{}),isRequired:!0}),s.jsx($,{errors:u,label:"Password",name:"password",type:"password",control:p,leftIcon:s.jsx(re,{}),isRequired:!0}),s.jsxs(c,{justifyContent:"space-between",mt:4,flexWrap:"wrap",children:[s.jsx(G,{colorScheme:"primary",size:{base:"sm",md:"md"},children:s.jsx(n,{fontSize:{base:"14px",sm:"16px"},children:"Remember me"})}),s.jsx(B,{as:b,size:"lg",to:"/reset-password",color:"primary.500",mt:2,fontSize:{base:"14px",sm:"16px"},children:"Forgot Password?"})]}),s.jsx(y,{type:"submit",colorScheme:"primary",w:"100%",mt:8,size:{base:"sm",md:"md"},borderRadius:0,isLoading:m,children:"Log In"}),s.jsx(B,{as:b,to:"/register",color:"primary.500",mt:4,fontSize:{base:"14px",sm:"16px"},textAlign:"center",children:"Don't have an account? Register"}),s.jsxs(d,{pos:"relative",w:"100%",my:10,children:[s.jsx(N,{borderColor:"black",opacity:1,w:"full"}),s.jsx(ee,{fontSize:"12px",px:4,bg:"white",children:"OR continue with"})]}),s.jsxs(c,{align:"center",justify:"center",flexWrap:"wrap",spacing:4,children:[s.jsx(y,{colorScheme:"primary",variant:"outline",size:{base:"sm",md:"md"},leftIcon:s.jsx(se,{boxSize:6}),children:"Google"}),s.jsx(y,{colorScheme:"facebook",variant:"outline",size:{base:"sm",md:"md"},leftIcon:s.jsx(q,{boxSize:6}),children:"Facebook"})]})]})]})]})}const Fe={0:1,350:2,850:3,1300:4},ve=({data:e,colorOptions:i,discountPercent:t,imageWidth:m})=>{var S,w,C;const{isOpen:p,onOpen:u,onClose:a}=O(),{data:o}=Z(),[l,h]=P.useState(!1),x=U(),j=X(),v=ue(),A=async r=>{Y.isAuthenticated()?l?await j.mutateAsync(r):await x.mutateAsync({product_id:r}):u()};P.useEffect(()=>{o!=null&&o.data&&(o==null?void 0:o.data.length)>0&&h(o.data.some(r=>r.id===e.id))},[o,e.id]);const L=async r=>{await v.mutateAsync({product_id:r})};return e?s.jsxs(s.Fragment,{children:[s.jsx(xe,{isOpen:p,onClose:a}),e&&s.jsx(b,{onClick:()=>L(e.id),to:e!=null&&e.subcategory?`/product/${(S=e==null?void 0:e.category)==null?void 0:S.slug}/${e==null?void 0:e.subcategory.slug}/${e.id}`:`/product/${(w=e==null?void 0:e.category)==null?void 0:w.slug}/${e.id}`,children:s.jsxs(le,{overflow:"hidden",h:"auto",w:"full",shadow:"none",borderRadius:0,role:"group",children:[s.jsxs(ce,{pos:"relative",overflow:"hidden",border:"1px solid #D2CFCF",p:0,children:[s.jsxs(I,{opacity:{base:0,md:1},zIndex:90,gap:2,pos:"absolute",right:4,top:4,children:[s.jsx(g,{border:"1px solid #D2CFCF",borderRadius:"50%",bg:"#D9D9D9",_hover:{bg:"#C6C6C6"},justify:"center",align:"center",p:2,children:s.jsx(z,{as:de})}),s.jsx(g,{border:"1px solid #D2CFCF",borderRadius:"50%",bg:"#D9D9D9",_hover:{bg:"#C6C6C6"},justify:"center",align:"center",p:2,onClick:r=>{r.preventDefault(),A(e.id)},children:x.isPending||j.isPending?s.jsx(J,{size:"xs"}):s.jsx(z,{as:K,fill:l?"red.500":"",textColor:l?"red.500":""})})]}),e.image?s.jsx(d,{_groupHover:{transition:"0.3s",transform:"scale(1.1)",zIndex:-1},children:s.jsx(ne,{id:e.id,src:e.image,alt:e.id.toString(),w:m??"full"})}):s.jsx(g,{w:"full",h:"full",bg:"#D9D9D9",children:s.jsx(Q,{w:"full",aspectRatio:1/1,src:"https://bit.ly/naruto-sage",alt:"naruto",objectFit:"cover"})}),s.jsxs(g,{pos:"absolute",top:4,left:4,flexDir:"column",w:"fit-content",textColor:"white",gap:2,children:[(e==null?void 0:e.is_new)&&s.jsx(d,{w:"fit-content",px:1,bg:"primary.500",fontSize:"12px",children:"New"}),t>0&&s.jsxs(d,{w:"fit-content",px:1,py:.5,bg:"red.400",fontSize:"12px",children:[t," %"]})]})]}),s.jsxs(ae,{px:0,children:[s.jsx(n,{fontSize:"12px",fontWeight:600,textColor:"#939292",children:(C=e.category)==null?void 0:C.name}),s.jsx(I,{mb:2,children:s.jsx(n,{noOfLines:1,fontSize:{base:"14px",sm:"16px",lg:"18px"},fontWeight:500,children:e.name})}),s.jsx(c,{justify:"space-between",children:i&&s.jsx(c,{spacing:"4px",children:i==null?void 0:i.map((r,D)=>s.jsx(d,{h:"14px",w:"14px",borderRadius:"50%",bg:r.hex_value},D))})}),s.jsxs(c,{spacing:"2px",children:[s.jsx(pe,{boxSize:3,color:"#FFC700"}),s.jsx(n,{fontSize:"12px",fontWeight:500,textColor:"#939292",children:"4.5 (200)"})]}),s.jsxs(c,{gap:2,mt:2,children:[t&&s.jsxs(n,{fontSize:{base:"12px",sm:"14px",lg:"16px"},fontWeight:500,children:["Rs.",e.price*(1-t/100)]}),s.jsxs(n,{fontSize:t?{base:"10px",sm:"12px",lg:"14px"}:{base:"12px",sm:"14px",lg:"16px"},textColor:t?"#939292":"",textDecoration:t?"line-through":"none",fontWeight:t?400:500,children:["Rs. ",e.price]})]})]})]})})]}):null};export{ve as I,xe as M,pe as S,ze as a,Fe as c,$e as u};
