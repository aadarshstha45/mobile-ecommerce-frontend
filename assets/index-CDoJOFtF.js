import{k as E,l as M,n as T,r as t,v as O,q as R,j as e,C as U,F as o,S as A,T as H,s as I,L as j,M as J,t as W,N as q}from"./index-CUUc0cew.js";import{B as Q}from"./index-CtYAbr4n.js";import{s as _,F as $,C as w,a as C,S as G}from"./data-PJk_j_EA.js";import{S as K}from"./SelectInput-eC0meoch.js";import{c as V,I as X}from"./index-BAsWCCL-.js";import"./chevron-right-BHS13IBT.js";import"./chunk-H46NUPBZ-Dwd-ZVdE.js";import"./index-DQIhXJ69.js";import"./GoogleIcon-B_a2b6aN.js";import"./TextInput-DhCxxJ1g.js";import"./x-Mazco6gl.js";import"./auth-MkPGCesi.js";import"./zod-BjvxfETr.js";import"./chunk-EC6XFFZH-DgWRkQht.js";import"./chunk-6SZ7MXCX-s65URLtF.js";import"./index-QPJciI4x.js";import"./chunk-2EW3JUUD-BpCnKpKM.js";import"./chunk-YQO7BFFX-CuF3Ns2U.js";import"./chunk-FHHZMTWR-CfnM1r25.js";import"./shopping-bag-B1jUeWS8.js";function je(){var S;const v=E(),[i]=M("(max-width: 540px)"),x=T(),y=x.pathname.split("/")[1].replace(/-/g," "),a=new URLSearchParams(x.search),l=Number(a.get("page"))||1,h=a.get("sort")||"newest",[Y,b]=t.useState(1),[u,d]=t.useState("newest"),[c,F]=t.useState([]),[p,k]=t.useState([]),{data:r,isPending:N,isFetching:D}=O(l,u,JSON.stringify(c),JSON.stringify(p));t.useEffect(()=>{b(l)},[l]),t.useEffect(()=>{d(h)},[h]);const z=s=>{d(s.value),s.value!==""&&(a.set("page","1"),a.set("sort",s.value),v(`?${a.toString()}`))},g=(s,n)=>{F(s.target.checked?[...c,n]:c.filter(m=>m!==n)),window.scroll({top:0,behavior:"smooth"})},f=(s,n)=>{k(s.target.checked?[...p,n]:p.filter(m=>m!==n)),window.scroll({top:0,behavior:"smooth"})},{isOpen:P,onOpen:B,onClose:L}=R();return e.jsxs(U,{as:"section",id:"collection",maxW:{base:"98vw",md:"95vw"},py:10,children:[e.jsxs(o,{gap:4,flexDir:i?"column":"row",justify:i?"center":"space-between",align:i?"start":"space-between",children:[e.jsxs(A,{gap:2,children:[e.jsx(H,{fontSize:{base:"18px",sm:"20px",md:"22px",lg:"24px"},fontWeight:500,textTransform:"capitalize",children:y}),e.jsx(Q,{})]}),e.jsx(K,{isControlled:!1,value:u,placeholder:"Sort by",name:"sort",handleChange:z,options:_})]}),e.jsxs($,{isOpen:P,onClose:L,children:[e.jsx(w,{}),e.jsx(C,{handleSizeSelect:g,handleColorSelect:f})]}),e.jsx(I,{"aria-label":"Filter",as:G,cursor:"pointer",size:"xs",p:1,colorScheme:"gray",display:{base:"block",sm:"none"},onClick:B}),e.jsxs(o,{py:4,gap:4,children:[e.jsx(o,{w:{sm:"200px",md:"250px"},display:{base:"none",sm:"flex"},minH:window.innerHeight,children:e.jsxs(o,{flexDir:"column",gap:4,w:"full",children:[e.jsx(w,{}),e.jsx(C,{handleSizeSelect:g,handleColorSelect:f})]})}),e.jsx(o,{w:"full",flexDir:"column",gap:4,children:N?e.jsx(j,{height:"500px"}):e.jsx(o,{flexDir:"column",gap:4,children:D?e.jsx(j,{height:"500px"}):r&&((S=r.data)==null?void 0:S.length)>0?e.jsx(J,{columnsCountBreakPoints:V,children:e.jsx(W,{gutter:i?"10px":"20px",children:r==null?void 0:r.data.map(s=>e.jsx(X,{data:s,discountPercent:s==null?void 0:s.discount},s.id))})}):e.jsx(q,{to:"/"})})})]})]})}export{je as default};
