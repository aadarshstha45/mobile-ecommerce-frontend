import{m as v,j as e,p as I,n as T,L as P,T as o,F as R,at as h,a5 as $,I as k,aI as E,S as w,a3 as D,c as L,r as d,a as N,W as O}from"./index-BISsgrs9.js";import{b as B}from"./index-DJtiY0PX.js";import{R as F}from"./DatePicker-C_E5ePQh.js";import"./PhoneInput-DPhXZ9HV.js";import"./SelectInput-DgrB4gdK.js";import"./index.esm-jS8sanS8.js";import{P as U}from"./PaginationButton-9M1MOSnH.js";import{u as W,C as H}from"./chunk-YQO7BFFX-BdmQoEQL.js";import{C as q}from"./chunk-FHHZMTWR-C0QhNtdk.js";import{C as A}from"./chunk-2EW3JUUD-GeYbpzur.js";import"./chunk-H46NUPBZ-Dd1bnTT1.js";import"./chevron-right-BhlNWi0v.js";var V=v(function(a,r){const{className:s,justify:c,...n}=a,l=W();return e.jsx(I.div,{ref:r,className:T("chakra-card__footer",s),__css:{display:"flex",justifyContent:c,...l.footer},...n})});const X=({data:i,isPending:a})=>e.jsx(e.Fragment,{children:a?e.jsx(P,{height:window.innerHeight/2}):i&&i.length>0?i.map(r=>e.jsxs(H,{zIndex:0,shadow:"none",borderRadius:0,p:0,border:"1px solid",borderColor:"#939292",mb:4,children:[e.jsxs(A,{borderBottom:"1px solid",children:[e.jsxs(o,{fontSize:{base:"sm",md:"md"},children:["Order Id: #",r.order_number]}),e.jsxs(o,{fontSize:{base:"14px",md:"16px",lg:"18px"},color:"#939292",children:["Placed On: ",r.order_date]})]}),r.order_items.map((s,c)=>{var n,l,g,p,f,x,t,j,b,_,u,S,y;return e.jsxs(q,{borderBottom:c!==r.order_items.length-1?"none":"1px solid",borderColor:"#939292",as:R,flexWrap:{base:"wrap",sm:"nowrap"},justify:"space-between",gap:4,children:[e.jsxs(h,{align:"start",gap:4,children:[e.jsx($,{to:(n=s.product)!=null&&n.sub_category?`/product/${(l=s.product)==null?void 0:l.category.slug}/${(g=s.product)==null?void 0:g.sub_category.slug}/${(p=s.product)==null?void 0:p.id}`:`/product/${(f=s.product)==null?void 0:f.category.slug}/${(x=s.product)==null?void 0:x.id}`,children:e.jsx(k,{w:100,aspectRatio:1/1,src:((t=s.product)==null?void 0:t.image)??E,alt:(j=s.product)==null?void 0:j.name})}),e.jsxs(w,{w:{base:"200px",sm:"350px",md:"400px",lg:"500px"},fontSize:"md",children:[e.jsx(o,{noOfLines:3,fontSize:{base:"16px",md:"18px",lg:"20px"},children:(b=s.product)==null?void 0:b.name}),e.jsxs(h,{fontSize:{base:"14px",md:"16px",lg:"18px"},flexWrap:{base:"wrap",sm:"nowrap"},color:"#939292",children:[((_=s.product)==null?void 0:_.size)&&e.jsxs(o,{fontSize:{base:"14px",md:"16px",lg:"18px"},children:["Size: ",(u=s.product)==null?void 0:u.size.name]}),((S=s.product)==null?void 0:S.color)&&e.jsxs(o,{fontSize:{base:"14px",md:"16px",lg:"18px"},children:["Color: ",(y=s.product)==null?void 0:y.color.name]})]})]})]}),e.jsxs(o,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["X ",s.quantity]}),e.jsxs(w,{align:"center",gap:2,children:[s.total<s.price&&e.jsxs(o,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Rs. ",s.total]}),e.jsxs(o,{textDecor:s.total<s.price?"line-through":"",fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Rs. ",s.price]})]})]},s.id)}),e.jsxs(V,{gap:2,justify:"space-between",children:[e.jsx(h,{gap:2,children:e.jsxs(o,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Total: Rs. ",r.total_amount]})}),e.jsxs(h,{justify:"end",flexWrap:"wrap",align:"end",gap:2,children:[e.jsxs(o,{color:"#939292",fontSize:{base:"16px",md:"18px",lg:"20px"},children:["payment: ",r.payment_status]}),e.jsx(D,{colorScheme:"primary",size:"xs",borderRadius:0,children:"Cancel"})]})]})]},r.id)):e.jsx(o,{children:"No data found"})}),oe=()=>{var z,C;const i=L(),a=new URLSearchParams(i.search),r=Number(a.get("page"))||1,s=a.get("date_from")||void 0,c=a.get("date_to")||void 0,[n,l]=d.useState(1),[g,p]=d.useState(),[f,x]=d.useState(),{data:t,isPending:j,isFetching:b}=B(n,g,f),_=N(),{control:u,handleSubmit:S}=O({defaultValues:{date_from:"",date_to:""}});d.useEffect(()=>{l(r)},[r]),d.useEffect(()=>{p(s)},[s]),d.useEffect(()=>{x(c)},[c]),d.useEffect(()=>{window.scrollTo(0,0)},[n]);const y=m=>{a.set("page","1"),_(`${i.pathname}?${a.toString()}`),m.date_from!==""?(a.set("date_from",m.date_from),p(m.date_from)):(p(void 0),a.delete("date_from")),m.date_to!==""?(a.set("date_to",m.date_to),x(m.date_to)):(x(void 0),a.delete("date_to"))};return e.jsxs(R,{flexDir:"column",gap:4,children:[e.jsx(w,{gap:4,children:e.jsxs(h,{as:"form",onSubmit:S(y),align:"center",gap:2,w:{base:"100%",sm:"auto"},flexDir:{base:"column",sm:"row"},children:[e.jsx(F,{control:u,name:"date_from"}),e.jsx(o,{children:"TO"}),e.jsx(F,{control:u,name:"date_to"}),e.jsx(D,{mt:-2,borderRadius:2,type:"submit",colorScheme:"primary",children:"Apply"})]})}),b?e.jsx(P,{}):e.jsx(X,{data:t==null?void 0:t.data,isPending:j}),e.jsx(U,{fromDate:g,toDate:f,currentPage:((z=t==null?void 0:t.pagination)==null?void 0:z.current_page)??n,setCurrentPage:l,totalPages:((C=t==null?void 0:t.pagination)==null?void 0:C.total_pages)??10})]})};export{oe as default};
