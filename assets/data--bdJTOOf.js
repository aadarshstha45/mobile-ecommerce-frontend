import{aS as _e,e as re,r as i,aT as Be,aU as Ee,aV as Fe,aW as Ie,aX as Me,aY as De,aZ as H,m as j,aN as m,g as Oe,o as ze,h as He,j as r,a_ as Le,i as E,A as ne,a$ as Ne,f as te,b0 as $e,B as Ve,b1 as Ue,H as Ke,a9 as J,L as Q,U as Ge,S as se,b2 as We,a as Xe,b3 as Ye,b4 as Ze,aB as ee}from"./index-BvlrkWmm.js";import{C as qe}from"./chevron-right-B6piIZ3D.js";import{A as Je,c as Qe,d as eo,M as oo,f as ro,e as no}from"./index-Kqs0qF9l.js";function to(e){return"current"in e}var ae=()=>typeof window<"u";function so(){var e;const o=navigator.userAgentData;return(e=o==null?void 0:o.platform)!=null?e:navigator.platform}var ao=e=>ae()&&e.test(navigator.vendor),io=e=>ae()&&e.test(so()),lo=()=>io(/mac|iphone|ipad|ipod/i),co=()=>lo()&&ao(/apple/i);function uo(e){const{ref:o,elements:n,enabled:c}=e,a=()=>{var s,u;return(u=(s=o.current)==null?void 0:s.ownerDocument)!=null?u:document};_e(a,"pointerdown",s=>{if(!co()||!c)return;const u=s.target,f=(n??[o]).some(d=>{const h=to(d)?d.current:d;return(h==null?void 0:h.contains(u))||h===u});a().activeElement!==u&&f&&(s.preventDefault(),u.focus())})}var[po,F]=re({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[vo,ie]=re({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `});function le(e){const o=i.Children.only(e.children),{getTriggerProps:n}=F();return i.cloneElement(o,n(o.props,o.ref))}le.displayName="PopoverTrigger";var y={click:"click",hover:"hover"};function fo(e={}){const{closeOnBlur:o=!0,closeOnEsc:n=!0,initialFocusRef:c,id:a,returnFocusOnClose:s=!0,autoFocus:u=!0,arrowSize:l,arrowShadowColor:f,trigger:d=y.click,openDelay:h=200,closeDelay:b=200,isLazy:I,lazyBehavior:ve="unmount",computePositionOnMount:fe,...ge}=e,{isOpen:v,onClose:x,onOpen:M,onToggle:V}=Be(e),D=i.useRef(null),k=i.useRef(null),C=i.useRef(null),S=i.useRef(!1),U=i.useRef(!1);v&&(U.current=!0);const[K,he]=i.useState(!1),[G,me]=i.useState(!1),xe=i.useId(),Pe=a??xe,[W,T,R,A]=["popover-trigger","popover-content","popover-header","popover-body"].map(t=>`${t}-${Pe}`),{referenceRef:_,getArrowProps:we,getPopperProps:X,getArrowInnerProps:be,forceUpdate:Ce}=Ee({...ge,enabled:v||!!fe}),Y=Fe({isOpen:v,ref:C});uo({enabled:v,ref:k}),Ie(C,{focusRef:k,visible:v,shouldFocus:s&&d===y.click}),Me(C,{focusRef:c,visible:v,shouldFocus:u&&d===y.click});const Z=De({wasSelected:U.current,enabled:I,mode:ve,isSelected:Y.present}),ye=i.useCallback((t={},g=null)=>{const p={...t,style:{...t.style,transformOrigin:H.transformOrigin.varRef,[H.arrowSize.var]:l?`${l}px`:void 0,[H.arrowShadowColor.var]:f},ref:j(C,g),children:Z?t.children:null,id:T,tabIndex:-1,role:"dialog",onKeyDown:m(t.onKeyDown,P=>{n&&P.key==="Escape"&&x()}),onBlur:m(t.onBlur,P=>{const B=oe(P),z=L(C.current,B),Ae=L(k.current,B);v&&o&&(!z&&!Ae)&&x()}),"aria-labelledby":K?R:void 0,"aria-describedby":G?A:void 0};return d===y.hover&&(p.role="tooltip",p.onMouseEnter=m(t.onMouseEnter,()=>{S.current=!0}),p.onMouseLeave=m(t.onMouseLeave,P=>{P.nativeEvent.relatedTarget!==null&&(S.current=!1,setTimeout(()=>x(),b))})),p},[Z,T,K,R,G,A,d,n,x,v,o,b,f,l]),Se=i.useCallback((t={},g=null)=>X({...t,style:{visibility:v?"visible":"hidden",...t.style}},g),[v,X]),je=i.useCallback((t,g=null)=>({...t,ref:j(g,D,_)}),[D,_]),w=i.useRef(),O=i.useRef(),q=i.useCallback(t=>{D.current==null&&_(t)},[_]),ke=i.useCallback((t={},g=null)=>{const p={...t,ref:j(k,g,q),id:W,"aria-haspopup":"dialog","aria-expanded":v,"aria-controls":T};return d===y.click&&(p.onClick=m(t.onClick,V)),d===y.hover&&(p.onFocus=m(t.onFocus,()=>{w.current===void 0&&M()}),p.onBlur=m(t.onBlur,P=>{const B=oe(P),z=!L(C.current,B);v&&o&&z&&x()}),p.onKeyDown=m(t.onKeyDown,P=>{P.key==="Escape"&&x()}),p.onMouseEnter=m(t.onMouseEnter,()=>{S.current=!0,w.current=window.setTimeout(()=>M(),h)}),p.onMouseLeave=m(t.onMouseLeave,()=>{S.current=!1,w.current&&(clearTimeout(w.current),w.current=void 0),O.current=window.setTimeout(()=>{S.current===!1&&x()},b)})),p},[W,v,T,d,q,V,M,o,x,h,b]);i.useEffect(()=>()=>{w.current&&clearTimeout(w.current),O.current&&clearTimeout(O.current)},[]);const Te=i.useCallback((t={},g=null)=>({...t,id:R,ref:j(g,p=>{he(!!p)})}),[R]),Re=i.useCallback((t={},g=null)=>({...t,id:A,ref:j(g,p=>{me(!!p)})}),[A]);return{forceUpdate:Ce,isOpen:v,onAnimationComplete:Y.onComplete,onClose:x,getAnchorProps:je,getArrowProps:we,getArrowInnerProps:be,getPopoverPositionerProps:Se,getPopoverProps:ye,getTriggerProps:ke,getHeaderProps:Te,getBodyProps:Re}}function L(e,o){return e===o||(e==null?void 0:e.contains(o))}function oe(e){var o;const n=e.currentTarget.ownerDocument.activeElement;return(o=e.relatedTarget)!=null?o:n}function ce(e){const o=Oe("Popover",e),{children:n,...c}=ze(e),a=He(),s=fo({...c,direction:a.direction});return r.jsx(po,{value:s,children:r.jsx(vo,{value:o,children:Le(n,{isOpen:s.isOpen,onClose:s.onClose,forceUpdate:s.forceUpdate})})})}ce.displayName="Popover";var N=(e,o)=>o?`${e}.${o}, ${o}`:void 0;function ue(e){var o;const{bg:n,bgColor:c,backgroundColor:a,shadow:s,boxShadow:u,shadowColor:l}=e,{getArrowProps:f,getArrowInnerProps:d}=F(),h=ie(),b=(o=n??c)!=null?o:a,I=s??u;return r.jsx(E.div,{...f(),className:"chakra-popover__arrow-positioner",children:r.jsx(E.div,{className:ne("chakra-popover__arrow",e.className),...d(e),__css:{"--popper-arrow-shadow-color":N("colors",l),"--popper-arrow-bg":N("colors",b),"--popper-arrow-shadow":N("shadows",I),...h.arrow}})})}ue.displayName="PopoverArrow";function go(e){if(e)return{enter:{...e.enter,visibility:"visible"},exit:{...e.exit,transitionEnd:{visibility:"hidden"}}}}var ho={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},mo=E(Ne.section),de=te(function(o,n){const{variants:c=ho,...a}=o,{isOpen:s}=F();return r.jsx(mo,{ref:n,variants:go(c),initial:!1,animate:s?"enter":"exit",...a})});de.displayName="PopoverTransition";var pe=te(function(o,n){const{rootProps:c,motionProps:a,...s}=o,{getPopoverProps:u,getPopoverPositionerProps:l,onAnimationComplete:f}=F(),d=ie(),h={position:"relative",display:"flex",flexDirection:"column",...d.content};return r.jsx(E.div,{...l(c),__css:d.popper,className:"chakra-popover__popper",children:r.jsx(de,{...a,...u(s,n),onAnimationComplete:$e(f,s.onAnimationComplete),className:ne("chakra-popover__content",o.className),__css:h})})});pe.displayName="PopoverContent";function $({title:e,children:o,defaultExpanded:n}){return r.jsx(Je,{allowToggle:!0,defaultIndex:n?[0]:void 0,children:r.jsx(Qe,{minW:"100%",children:({isExpanded:c})=>r.jsxs(r.Fragment,{children:[r.jsx("h2",{children:r.jsxs(eo,{w:"100%",children:[r.jsx(Ve,{as:"span",flex:1,textAlign:"left",children:e}),c?r.jsx(oo,{fontSize:"12px"}):r.jsx(ro,{fontSize:"12px"})]})}),r.jsx(no,{display:"flex",flexDir:"column",gap:2,p:0,pb:4,children:o})]})})})}const Co=()=>{var u;const[e,o]=i.useState(10),{data:n,isFetching:c}=Ue(e),[a,s]=i.useState(null);return(n==null?void 0:n.data.length)>0&&r.jsxs($,{defaultExpanded:!0,title:"Categories",children:[n.data.map(l=>r.jsxs(ce,{defaultIsOpen:!0,isLazy:!0,trigger:"hover",placement:"right",children:[r.jsx(le,{children:r.jsxs(Ke,{justify:"space-between",onMouseEnter:()=>{s(l.id)},_hover:{bg:"gray.100"},p:2,cursor:"pointer",children:[r.jsx(J,{fontSize:{base:"14px",md:"16px"},as:Q,to:`/${l.slug}`,children:l.name}),a===l.id&&l.subcategories&&l.subcategories.length>0&&r.jsx(Ge,{as:qe,boxSize:6})]})}),a===l.id&&l.subcategories&&l.subcategories.length>0&&r.jsxs(pe,{onMouseLeave:()=>{s(null)},zIndex:10,border:"1px solid",px:0,w:"fit-content",flexDir:"column",gap:2,children:[r.jsx(ue,{shadow:"none"}),l.subcategories.map(f=>r.jsx(se,{gap:2,children:r.jsx(J,{fontSize:{base:"14px",md:"16px"},as:Q,_hover:{bg:"gray.100"},p:2,to:`/${l.slug}/${f.slug}`,children:f.name},f.id)},f.id))]})]},l.id)),((u=n==null?void 0:n.pagination)==null?void 0:u.total_pages)>1&&(c?r.jsx(We,{size:"xs",color:"primary.500"}):r.jsx(Xe,{w:"fit-content",size:"xs",variant:"unstyled",onClick:()=>o(e+5),_hover:{textDecoration:"underline"},textColor:"primary.500",children:"View More"}))]})},yo=({handleSizeSelect:e,handleColorSelect:o})=>{const{data:n}=Ye(),{data:c}=Ze();return r.jsxs(se,{gap:4,children:[c&&c.length>0&&r.jsx($,{title:"Colors",children:c.map(a=>r.jsx(ee,{px:2,colorScheme:"primary",onChange:s=>o(s,a.id),value:a.id,children:a.name},a.id))}),n&&n.length>0&&r.jsx($,{title:"Sizes",children:n.map(a=>r.jsx(ee,{px:2,colorScheme:"primary",onChange:s=>e(s,a.id),value:a.id,children:a.name},a.id))})]})},So=[{value:"",label:"Best Match"},{value:"newest",label:"Newest"},{value:"oldest",label:"Oldest"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"}];export{Co as C,yo as a,So as s};
