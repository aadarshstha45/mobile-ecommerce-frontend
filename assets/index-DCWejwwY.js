import{l as S,j as s,o as T,Q as y,r as f,L as C,F as O,S as b,T as h,ar as P,as as _,at as R,C as w,au as F,aH as L,av as M,Y as $,a4 as k,c as D}from"./index-BFT1rXGf.js";import{b as v}from"./index-ChDdVP6T.js";import{P as z}from"./PaginationButton-Cb392bhl.js";import{u as H,T as I,a as N,b as B,c as p,d as o,e as E,f as r}from"./chunk-MGVPL3OH-Cqi4dTyY.js";import{C as Q}from"./chunk-YQO7BFFX-DsTOsh7F.js";import{C as U}from"./chunk-2EW3JUUD-l9JrK1nv.js";import"./chevron-right-vxOHCZCA.js";var W=S((t,c)=>{const l=H();return s.jsx(T.tfoot,{...t,ref:c,__css:l.tfoot})});const q=({data:t,isPending:c})=>{const{isOpen:l,onOpen:g,onClose:m}=y(),[a,d]=f.useState(null),u=e=>{g(),d(e)},n=()=>{d(null),m()};return s.jsxs(s.Fragment,{children:[c?s.jsx(C,{height:window.innerHeight/2}):t&&t.length>0?t.map(e=>s.jsx(Q,{cursor:"pointer",zIndex:0,shadow:"none",borderRadius:0,p:0,border:"1px solid",borderColor:"#939292",mb:4,onClick:()=>u(e),children:s.jsxs(U,{as:O,justify:"space-between",align:"center",flexWrap:"wrap",gap:6,children:[s.jsxs(b,{children:[s.jsxs(h,{fontSize:{base:"sm",md:"md"},children:["Order Id: #",e.order_number]}),s.jsxs(h,{fontSize:{base:"14px",md:"16px",lg:"18px"},color:"#939292",children:["Placed On: ",e.order_date]})]}),s.jsx(b,{align:"center",gap:2,children:s.jsxs(h,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Rs. ",e.total_amount]})})]})},e.id)):s.jsx(h,{children:"No data found"}),a&&s.jsxs(P,{isOpen:l,onClose:n,motionPreset:"slideInTop",children:[s.jsx(_,{}),s.jsxs(R,{px:1,as:w,maxW:{base:"98vw",lg:"fit-content"},children:[s.jsx(F,{}),s.jsxs(L,{children:["Order Id: #",a.order_number]}),s.jsx(M,{children:s.jsx(I,{children:s.jsxs(N,{children:[s.jsx(B,{children:s.jsxs(p,{children:[s.jsx(o,{children:"S.N."}),s.jsx(o,{children:"Product Name"}),s.jsx(o,{children:"Quantity"}),s.jsx(o,{children:"Price"}),s.jsx(o,{children:"Discount"}),s.jsx(o,{children:"Amount"})]})}),s.jsx(E,{children:a.order_items.map((e,j)=>{var i,x;return s.jsxs(p,{children:[s.jsx(r,{children:j+1}),s.jsx(r,{children:s.jsx($,{as:k,to:e.product.subcategory?`/product/${(i=e.product.category)==null?void 0:i.slug}/${e.product.subcategory.slug}/${e.product.id}`:`/product/${(x=e.product.category)==null?void 0:x.slug}/${e.product.id}`,children:e.product.name})}),s.jsx(r,{children:e.quantity}),s.jsxs(r,{children:["Rs. ",e.price]}),s.jsxs(r,{children:["Rs. ",e.discount??0]}),s.jsxs(r,{children:["Rs. ",e.total]})]},j)})}),s.jsxs(W,{children:[s.jsxs(p,{children:[s.jsx(r,{colSpan:3}),s.jsx(r,{children:"Discount"}),s.jsxs(r,{children:["Rs. ",a.discount_amount??0]}),s.jsx(r,{})]}),s.jsxs(p,{children:[s.jsx(r,{colSpan:3}),s.jsx(r,{children:"Grand Total"}),s.jsx(r,{}),s.jsxs(r,{children:["Rs. ",a.total_amount]})]})]})]})})})]})]})]})},Z=({fromDate:t,toDate:c,status:l})=>{var i,x;const g=D(),m=new URLSearchParams(g.search),a=Number(m.get("page"))||1,[d,u]=f.useState(1),{data:n,isPending:e,isFetching:j}=v(d,l,t,c);return f.useEffect(()=>{u(a)},[a]),s.jsxs(O,{flexDir:"column",gap:4,children:[s.jsx(b,{gap:4}),j?s.jsx(C,{}):s.jsx(q,{data:n==null?void 0:n.data,isPending:e}),s.jsx(z,{currentPage:((i=n==null?void 0:n.pagination)==null?void 0:i.current_page)??d,setCurrentPage:u,totalPages:((x=n==null?void 0:n.pagination)==null?void 0:x.total_pages)??10})]})};export{Z as default};
