import{u as D,a as M,b as T,c as R,r as o,d as U,j as e,C as H,F as i,S as J,T as C,L as O,M as W,e as q}from"./index-C3jGOrgU.js";import{B as I}from"./index-Dz_NPn6G.js";import{s as Q,C as $,a as A}from"./data-Cp_7QUzG.js";import{S as G}from"./SelectInput-BXpq3Bwb.js";import{c as K,I as V}from"./index-B6gvpVxm.js";import{P as X}from"./PaginationButton-CRc_yROt.js";import"./chevron-right-CdazZhIJ.js";import"./chunk-H46NUPBZ-Bv4iI0Nv.js";import"./index-Bo6L4yP4.js";import"./GoogleIcon-BnRDZgzC.js";import"./TextInput-vI1Rq1qZ.js";import"./x-CwDdJ-ss.js";import"./auth-DbiSK-e7.js";import"./zod-DIuBd82m.js";import"./chunk-EC6XFFZH-_1NfC_DX.js";import"./index-Dbn5wtxt.js";import"./chunk-2EW3JUUD-CtAwO53T.js";import"./chunk-YQO7BFFX-CWLMIit9.js";import"./chunk-FHHZMTWR-BnUQf_uF.js";import"./shopping-bag-X7a6EEpp.js";function Se(){var j,w,y;const{category_slug:x,slug:l}=D(),P=M(),[c]=T("(max-width: 540px)"),d=R(),b=d.pathname.split("/")[1].replace(/-/g," "),r=new URLSearchParams(d.search),p=Number(r.get("page"))||1,h=r.get("sort")||"",[v,f]=o.useState(1),[u,S]=o.useState("");if(!l)throw new Error("Slug is required");const F=x?{category_slug:x,slug:l}:l,[a,z]=o.useState([]),[g,B]=o.useState([]),{data:t,isPending:E,isFetching:_}=U(p,F,u,JSON.stringify(a),JSON.stringify(g));o.useEffect(()=>{f(p)},[p]),o.useEffect(()=>{S(h)},[h]);const k=s=>{S(s.value),s.value!==""&&(r.set("page","1"),r.set("sort",s.value),P(`?${r.toString()}`))},L=(s,n)=>{z(s.target.checked?[...a,n]:a.filter(m=>m!==n)),window.scroll({top:0,behavior:"smooth"})},N=(s,n)=>{B(s.target.checked?[...g,n]:g.filter(m=>m!==n)),window.scroll({top:0,behavior:"smooth"})};return o.useEffect(()=>{a.length>0},[a]),e.jsxs(H,{as:"section",id:"collection",maxW:{base:"98vw",md:"95vw"},py:10,children:[e.jsxs(i,{gap:4,flexDir:c?"column":"row",justify:c?"center":"space-between",align:c?"start":"space-between",children:[e.jsxs(J,{gap:2,children:[e.jsx(C,{fontSize:{base:"18px",sm:"20px",md:"22px",lg:"24px"},fontWeight:500,textTransform:"capitalize",children:b}),e.jsx(I,{})]}),e.jsx(G,{isControlled:!1,value:u,placeholder:"Sort by",name:"sort",handleChange:k,options:Q})]}),e.jsxs(i,{py:10,gap:4,children:[e.jsx(i,{w:{sm:"200px",md:"250px"},display:{base:"none",sm:"flex"},minH:window.innerHeight,children:e.jsxs(i,{flexDir:"column",gap:4,w:"full",children:[e.jsx($,{}),e.jsx(A,{handleSizeSelect:L,handleColorSelect:N})]})}),e.jsxs(i,{w:"full",flexDir:"column",gap:4,children:[E||_?e.jsx(O,{height:"500px"}):t&&((j=t.data)==null?void 0:j.length)>0?e.jsx(W,{columnsCountBreakPoints:K,children:e.jsx(q,{gutter:c?"10px":"20px",children:t==null?void 0:t.data.map(s=>e.jsx(V,{data:s,discountPercent:s==null?void 0:s.discount,colorOptions:(s==null?void 0:s.product_properties)&&s.product_properties},s.id))})}):e.jsx(C,{fontSize:"xl",children:"No products found"}),(t==null?void 0:t.pagination.total_items)>12&&e.jsx(X,{currentPage:((w=t==null?void 0:t.pagination)==null?void 0:w.current_page)??v,setCurrentPage:f,totalPages:((y=t==null?void 0:t.pagination)==null?void 0:y.total_pages)??2,sort:u})]})]})]})}export{Se as default};
