import{bu as we,aU as je,aV as ye,r as n,aT as Z,m as Ce,aE as F,a_ as K,h as _,b0 as ve,f as Se,aF as Pe,o as ke,g as De,bv as Ie,j as s,bw as Te,bx as ze,at as Ee,aj as _e,ak as Le,al as Re,aH as Oe,an as Ae,t as $,H as P,au as We,T as L,U as te,a0 as X,Z as ie,B as N,ae as Fe,av as Ne,q as $e,ab as le,by as Be,S as ae,F as U,aq as Me,aM as Ve,ar as He,I as qe,ad as Ge}from"./index-CkiCkVzJ.js";import{a as Ue,u as Ke,b as Xe}from"./index-DFZc1jet.js";import{A as Ye,G as Ze}from"./GoogleIcon-Bd6cZ3ux.js";import{I as Je,a as Qe}from"./Lock-DBLbrESX.js";import{u as es}from"./index.esm-CeDGwYn6.js";import"./SelectInput-Cp7MsvuN.js";import{a as ce}from"./TextInput-BLwJ8rby.js";import{L as ss}from"./auth-CvLxuKRB.js";import"./profile-B_ZtDsEm.js";import"./review-DgHCnSm3.js";import{t as os}from"./zod-CPbSKUVH.js";import{a as rs}from"./index-CvoN93Gi.js";import{C as ns}from"./chunk-2EW3JUUD-DjtfUbRs.js";import{C as ts}from"./chunk-FHHZMTWR-Bab8_tnk.js";import{C as is}from"./chunk-YQO7BFFX-BXTouEWa.js";function ls(e){const r=e.ownerDocument.defaultView||window,{overflow:o,overflowX:i,overflowY:u}=r.getComputedStyle(e);return/auto|scroll|overlay|hidden/.test(o+u+i)}function as(e){return e.localName==="html"?e:e.assignedSlot||e.parentElement||e.ownerDocument.documentElement}function ue(e){return["html","body","#document"].includes(e.localName)?e.ownerDocument.body:we(e)&&ls(e)?e:ue(as(e))}var cs={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},Q=e=>{var r;return((r=e.current)==null?void 0:r.ownerDocument)||document},Y=e=>{var r,o;return((o=(r=e.current)==null?void 0:r.ownerDocument)==null?void 0:o.defaultView)||window};function us(e={}){const{openDelay:r=0,closeDelay:o=0,closeOnClick:i=!0,closeOnMouseDown:u,closeOnScroll:x,closeOnPointerDown:p=u,closeOnEsc:c=!0,onOpen:d,onClose:C,placement:f,id:v,isOpen:R,defaultIsOpen:O,arrowSize:h=10,arrowShadowColor:S,arrowPadding:k,modifiers:D,isDisabled:g,gutter:b,offset:l,direction:A,...I}=e,{isOpen:a,onOpen:T,onClose:z}=je({isOpen:R,defaultIsOpen:O,onOpen:d,onClose:C}),{referenceRef:B,getPopperProps:w,getArrowInnerProps:pe,getArrowProps:de}=ye({enabled:a,placement:f,arrowPadding:k,modifiers:D,gutter:b,offset:l,direction:A}),me=n.useId(),M=`tooltip-${v??me}`,j=n.useRef(null),W=n.useRef(),E=n.useCallback(()=>{W.current&&(clearTimeout(W.current),W.current=void 0)},[]),V=n.useRef(),H=n.useCallback(()=>{V.current&&(clearTimeout(V.current),V.current=void 0)},[]),q=n.useCallback(()=>{H(),z()},[z,H]),se=ps(j,q),G=n.useCallback(()=>{if(!g&&!W.current){a&&se();const t=Y(j);W.current=t.setTimeout(T,r)}},[se,g,a,T,r]),m=n.useCallback(()=>{E();const t=Y(j);V.current=t.setTimeout(q,o)},[o,q,E]),oe=n.useCallback(()=>{a&&i&&m()},[i,m,a]),re=n.useCallback(()=>{a&&p&&m()},[p,m,a]),xe=n.useCallback(t=>{a&&t.key==="Escape"&&m()},[a,m]);Z(()=>Q(j),"keydown",c?xe:void 0),Z(()=>{if(!x)return null;const t=j.current;if(!t)return null;const y=ue(t);return y.localName==="body"?Y(j):y},"scroll",()=>{a&&x&&q()},{passive:!0,capture:!0}),n.useEffect(()=>{g&&(E(),a&&z())},[g,a,z,E]),n.useEffect(()=>()=>{E(),H()},[E,H]),Z(()=>j.current,"pointerleave",m);const fe=n.useCallback((t={},y=null)=>({...t,ref:Ce(j,y,B),onPointerEnter:F(t.onPointerEnter,be=>{be.pointerType!=="touch"&&G()}),onClick:F(t.onClick,oe),onPointerDown:F(t.onPointerDown,re),onFocus:F(t.onFocus,G),onBlur:F(t.onBlur,m),"aria-describedby":a?M:void 0}),[G,m,re,a,M,oe,B]),ge=n.useCallback((t={},y=null)=>w({...t,style:{...t.style,[K.arrowSize.var]:h?`${h}px`:void 0,[K.arrowShadowColor.var]:S}},y),[w,h,S]),he=n.useCallback((t={},y=null)=>{const ne={...t.style,position:"relative",transformOrigin:K.transformOrigin.varRef};return{ref:y,...I,...t,id:M,role:"tooltip",style:ne}},[I,M]);return{isOpen:a,show:G,hide:m,getTriggerProps:fe,getTooltipProps:he,getTooltipPositionerProps:ge,getArrowProps:de,getArrowInnerProps:pe}}var J="chakra-ui:close-tooltip";function ps(e,r){return n.useEffect(()=>{const o=Q(e);return o.addEventListener(J,r),()=>o.removeEventListener(J,r)},[r,e]),()=>{const o=Q(e),i=Y(e);o.dispatchEvent(new i.CustomEvent(J))}}function ds(e,r=[]){const o=Object.assign({},e);for(const i of r)i in o&&delete o[i];return o}function ms(e,r){const o={};for(const i of r)i in e&&(o[i]=e[i]);return o}var xs=_(ve.div),ee=Se((e,r)=>{var o,i;const u=Pe("Tooltip",e),x=ke(e),p=De(),{children:c,label:d,shouldWrapChildren:C,"aria-label":f,hasArrow:v,bg:R,portalProps:O,background:h,backgroundColor:S,bgColor:k,motionProps:D,...g}=x,b=(i=(o=h??S)!=null?o:R)!=null?i:k;if(b){u.bg=b;const w=Ie(p,"colors",b);u[K.arrowBg.var]=w}const l=us({...g,direction:p.direction}),A=typeof c=="string"||C;let I;if(A)I=s.jsx(_.span,{display:"inline-block",tabIndex:0,...l.getTriggerProps(),children:c});else{const w=n.Children.only(c);I=n.cloneElement(w,l.getTriggerProps(w.props,w.ref))}const a=!!f,T=l.getTooltipProps({},r),z=a?ds(T,["role","id"]):T,B=ms(T,["role","id"]);return d?s.jsxs(s.Fragment,{children:[I,s.jsx(Te,{children:l.isOpen&&s.jsx(ze,{...O,children:s.jsx(_.div,{...l.getTooltipPositionerProps(),__css:{zIndex:u.zIndex,pointerEvents:"none"},children:s.jsxs(xs,{variants:cs,initial:"exit",animate:"enter",exit:"exit",...D,...z,__css:u,children:[d,a&&s.jsx(_.span,{srOnly:!0,...B,children:f}),v&&s.jsx(_.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:s.jsx(_.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:u.bg}})})]})})})})]}):s.jsx(s.Fragment,{children:c})});ee.displayName="Tooltip";function fs({isOpen:e,onClose:r}){const{mutateAsync:o,isPending:i}=Ee(),{control:u,formState:{errors:x},reset:p,handleSubmit:c}=es({defaultValues:{email:"",password:""},resolver:os(ss)}),d=async f=>{await o(f),p({email:"",password:""}),r(),p()},C=()=>{p({email:"",password:""}),r()};return s.jsxs(_e,{isOpen:e,onClose:C,motionPreset:"slideInTop",children:[s.jsx(Le,{}),s.jsxs(Re,{as:"form",onSubmit:c(d),children:[s.jsx(Oe,{textAlign:"center",children:"Login"}),s.jsxs(Ae,{py:6,children:[s.jsx(ce,{errors:x,label:"Email",name:"email",control:u,leftIcon:s.jsx($,{as:Je}),isRequired:!0}),s.jsx(ce,{errors:x,label:"Password",name:"password",type:"password",control:u,leftIcon:s.jsx($,{as:Qe}),isRequired:!0}),s.jsxs(P,{justifyContent:"space-between",mt:4,flexWrap:"wrap",children:[s.jsx(We,{colorScheme:"primary",size:{base:"sm",md:"md"},children:s.jsx(L,{fontSize:{base:"14px",sm:"16px"},children:"Remember me"})}),s.jsx(te,{as:X,size:"lg",to:"/reset-password",color:"primary.500",mt:2,fontSize:{base:"14px",sm:"16px"},children:"Forgot Password?"})]}),s.jsx(ie,{type:"submit",colorScheme:"primary",w:"100%",my:4,size:{base:"sm",md:"md"},isLoading:i,children:"Log In"}),s.jsx(te,{as:X,to:"/register",color:"primary.500",fontSize:{base:"14px",sm:"16px"},textAlign:"center",children:"Don't have an account? Register"}),s.jsxs(N,{pos:"relative",w:"100%",my:10,children:[s.jsx(Fe,{borderColor:"black",opacity:1,w:"full"}),s.jsx(Ye,{fontSize:"12px",px:4,bg:"white",children:"OR continue with"})]}),s.jsx(P,{align:"center",justify:"center",flexWrap:"wrap",spacing:4,children:s.jsx(ie,{colorScheme:"primary",variant:"outline",as:X,to:`${Ne}/auth/google`,w:"full",size:{base:"sm",md:"md"},leftIcon:s.jsx(Ze,{boxSize:6}),children:"Google"})})]})]})]})}const gs="/assets/NoPicture-C_lL-0bt.png",Ls={0:1,350:2,850:3,1300:4},Rs=({data:e,colorOptions:r,discountPercent:o,imageWidth:i})=>{var S,k,D,g,b;const{isOpen:u,onOpen:x,onClose:p}=$e(),{data:c}=Ue({enabled:le.isAuthenticated()}),[d,C]=n.useState(!1),f=Ke(),v=Xe(),R=Be(),O=async l=>{le.isAuthenticated()?d?await v.mutateAsync(l):await f.mutateAsync({product_id:l}):x()};n.useEffect(()=>{c!=null&&c.data&&(c==null?void 0:c.data.length)>0&&C(c.data.some(l=>l.id===e.id))},[c,e.id]);const h=async l=>{await R.mutateAsync({product_id:l})};return e?s.jsxs(s.Fragment,{children:[s.jsx(fs,{isOpen:u,onClose:p}),e&&s.jsx(X,{onClick:()=>h(e.id),to:e!=null&&e.subcategory?`/product/${(S=e==null?void 0:e.category)==null?void 0:S.slug}/${e==null?void 0:e.subcategory.slug}/${e.id}`:`/product/${(k=e==null?void 0:e.category)==null?void 0:k.slug}/${e.id}`,children:s.jsxs(is,{overflow:"hidden",h:"auto",w:"full",shadow:"none",borderRadius:0,role:"group",children:[s.jsxs(ns,{pos:"relative",overflow:"hidden",border:"1px solid #D2CFCF",p:0,children:[s.jsxs(ae,{opacity:{base:0,md:1},zIndex:8,gap:2,pos:"absolute",right:4,top:4,children:[s.jsx(ee,{bg:"primary.500",label:"Cart",fontSize:"12px",children:s.jsx(U,{border:"1px solid #D2CFCF",borderRadius:"50%",bg:"#D9D9D9",_hover:{bg:"#C6C6C6"},justify:"center",align:"center",p:2,children:s.jsx($,{as:Me})})}),s.jsx(ee,{bg:"primary.500",label:"WishList",fontSize:"12px",children:s.jsx(U,{border:"1px solid #D2CFCF",borderRadius:"50%",bg:"#D9D9D9",_hover:{bg:"#C6C6C6"},justify:"center",align:"center",p:2,onClick:l=>{l.preventDefault(),O(e.id)},children:f.isPending||v.isPending?s.jsx(Ve,{size:"xs"}):s.jsx($,{as:He,weight:d?"fill":"regular",textColor:d?"red.500":""})})})]}),e.image?s.jsx(N,{_groupHover:{transition:"0.3s",transform:"scale(1.1)",zIndex:-1},children:s.jsx(rs,{id:e.id,src:e.image,alt:e.id.toString(),w:i??"full"})}):s.jsx(U,{w:"full",h:"full",p:"20%",bg:"#D9D9D9",children:s.jsx(qe,{w:"full",aspectRatio:1/1,src:gs,alt:"No Picture",objectFit:"cover"})}),s.jsxs(U,{pos:"absolute",top:4,left:4,flexDir:"column",w:"fit-content",textColor:"white",gap:2,children:[(e==null?void 0:e.is_new)&&s.jsx(N,{w:"fit-content",px:2,py:.5,bg:"primary.500",fontSize:"14px",children:"New"}),o>0&&s.jsxs(N,{w:"fit-content",px:2,py:.5,bg:"red.400",fontSize:"14px",children:[o," %"]})]})]}),s.jsxs(ts,{px:0,children:[s.jsx(L,{fontSize:"12px",fontWeight:600,textColor:"#939292",children:(D=e.category)==null?void 0:D.name}),s.jsx(ae,{mb:2,children:s.jsx(L,{noOfLines:1,fontSize:{base:"14px",sm:"16px",lg:"18px"},fontWeight:500,children:e.name})}),s.jsx(P,{justify:"space-between",children:s.jsxs(P,{justifySelf:r?"flex-end":"flex-start",spacing:"2px",children:[s.jsx($,{as:Ge,boxSize:3,color:"#FFC700"}),s.jsxs(L,{fontSize:"12px",fontWeight:500,textColor:"#939292",children:[(g=e.rating)==null?void 0:g.average," (",(b=e.rating)==null?void 0:b.total,")"]})]})}),s.jsxs(P,{justify:"space-between",mt:2,children:[r&&s.jsx(P,{spacing:"4px",flexWrap:"wrap",children:r==null?void 0:r.map((l,A)=>s.jsx(N,{aspectRatio:1,w:"14px",borderRadius:"50%",bg:l.color.hex_value},A))}),s.jsxs(P,{gap:2,children:[o&&s.jsxs(L,{fontSize:{base:"12px",sm:"14px",lg:"16px"},fontWeight:500,children:["Rs.",e.price*(1-o/100)]}),s.jsxs(L,{fontSize:o?{base:"10px",sm:"12px",lg:"14px"}:{base:"12px",sm:"14px",lg:"16px"},textColor:o?"#939292":"",textDecoration:o?"line-through":"none",fontWeight:o?400:500,children:["Rs. ",e.price]})]})]})]})]})})]}):null};export{Rs as I,fs as M,ee as T,Ls as c};
