import{m as I,j as e,p as $,n as k,L as R,T as o,F as D,at as u,a5 as L,I as N,aI as O,S as w,a3 as v,c as T,r as m,a as B,W as E}from"./index-oY60Rmkm.js";import{b as U}from"./index-uGFhta9m.js";import{R as P,c as z}from"./convertDate-DQJeosfG.js";import"./PhoneInput-DTIJ2N6G.js";import"./SelectInput-C7-yvhEb.js";import{P as W}from"./PaginationButton-DNZ7s1QE.js";import{u as H,C as q}from"./chunk-YQO7BFFX-BWDQaCkc.js";import{C as A}from"./chunk-FHHZMTWR-DG3hrEjV.js";import{C as V}from"./chunk-2EW3JUUD-D39PaqJU.js";import"./chunk-2ZHRCML3-DPwAscup.js";import"./chunk-H46NUPBZ-B15ETrvH.js";import"./chevron-right-C8U04zji.js";var X=I(function(a,t){const{className:s,justify:l,...i}=a,d=H();return e.jsx($.div,{ref:t,className:k("chakra-card__footer",s),__css:{display:"flex",justifyContent:l,...d.footer},...i})});const G=({data:n,isPending:a})=>e.jsx(e.Fragment,{children:a?e.jsx(R,{height:window.innerHeight/2}):n&&n.length>0?n.map(t=>e.jsxs(q,{zIndex:0,shadow:"none",borderRadius:0,p:0,border:"1px solid",borderColor:"#939292",mb:4,children:[e.jsxs(V,{borderBottom:"1px solid",children:[e.jsxs(o,{fontSize:{base:"sm",md:"md"},children:["Order Id: #",t.order_number]}),e.jsxs(o,{fontSize:{base:"14px",md:"16px",lg:"18px"},color:"#939292",children:["Placed On: ",t.order_date]})]}),t.order_items.map((s,l)=>{var i,d,g,c,f,p,r,j,b,_,h,S,y;return e.jsxs(A,{borderBottom:l!==t.order_items.length-1?"none":"1px solid",borderColor:"#939292",as:D,flexWrap:{base:"wrap",sm:"nowrap"},justify:"space-between",gap:4,children:[e.jsxs(u,{align:"start",gap:4,children:[e.jsx(L,{to:(i=s.product)!=null&&i.sub_category?`/product/${(d=s.product)==null?void 0:d.category.slug}/${(g=s.product)==null?void 0:g.sub_category.slug}/${(c=s.product)==null?void 0:c.id}`:`/product/${(f=s.product)==null?void 0:f.category.slug}/${(p=s.product)==null?void 0:p.id}`,children:e.jsx(N,{w:100,aspectRatio:1/1,src:((r=s.product)==null?void 0:r.image)??O,alt:(j=s.product)==null?void 0:j.name})}),e.jsxs(w,{w:{base:"200px",sm:"350px",md:"400px",lg:"500px"},fontSize:"md",children:[e.jsx(o,{noOfLines:3,fontSize:{base:"16px",md:"18px",lg:"20px"},children:(b=s.product)==null?void 0:b.name}),e.jsxs(u,{fontSize:{base:"14px",md:"16px",lg:"18px"},flexWrap:{base:"wrap",sm:"nowrap"},color:"#939292",children:[((_=s.product)==null?void 0:_.size)&&e.jsxs(o,{fontSize:{base:"14px",md:"16px",lg:"18px"},children:["Size: ",(h=s.product)==null?void 0:h.size.name]}),((S=s.product)==null?void 0:S.color)&&e.jsxs(o,{fontSize:{base:"14px",md:"16px",lg:"18px"},children:["Color: ",(y=s.product)==null?void 0:y.color.name]})]})]})]}),e.jsxs(o,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["X ",s.quantity]}),e.jsxs(w,{align:"center",gap:2,children:[s.total<s.price&&e.jsxs(o,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Rs. ",s.total]}),e.jsxs(o,{textDecor:s.total<s.price?"line-through":"",fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Rs. ",s.price]})]})]},s.id)}),e.jsxs(X,{gap:2,justify:"space-between",children:[e.jsx(u,{gap:2,children:e.jsxs(o,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Total: Rs. ",t.total_amount]})}),e.jsxs(u,{justify:"end",flexWrap:"wrap",align:"end",gap:2,children:[e.jsxs(o,{color:"#939292",fontSize:{base:"16px",md:"18px",lg:"20px"},children:["payment: ",t.payment_status]}),e.jsx(v,{colorScheme:"primary",size:"xs",borderRadius:0,children:"Cancel"})]})]})]},t.id)):e.jsx(o,{children:"No data found"})}),ne=()=>{var C,F;const n=T(),a=new URLSearchParams(n.search),t=Number(a.get("page"))||1,s=a.get("date_from")||void 0,l=a.get("date_to")||void 0,[i,d]=m.useState(1),[g,c]=m.useState(),[f,p]=m.useState(),{data:r,isPending:j,isFetching:b}=U(i,g,f),_=B(),{control:h,handleSubmit:S}=E({defaultValues:{date_from:"",date_to:""}});m.useEffect(()=>{d(t)},[t]),m.useEffect(()=>{c(s)},[s]),m.useEffect(()=>{p(l)},[l]);const y=x=>{a.set("page","1"),_(`${n.pathname}?${a.toString()}`),x.date_from!==""?(a.set("date_from",z(x.date_from)),c(z(x.date_from))):(c(void 0),a.delete("date_from")),x.date_to!==""?(a.set("date_to",z(x.date_to)),p(z(x.date_to))):(p(void 0),a.delete("date_to"))};return e.jsxs(D,{flexDir:"column",gap:4,children:[e.jsx(w,{gap:4,children:e.jsxs(u,{as:"form",onSubmit:S(y),align:"center",gap:2,w:{base:"100%",sm:"auto"},flexDir:{base:"column",sm:"row"},children:[e.jsx(P,{control:h,name:"date_from"}),e.jsx(o,{children:"TO"}),e.jsx(P,{control:h,name:"date_to"}),e.jsx(v,{mt:-2,borderRadius:2,type:"submit",colorScheme:"primary",children:"Apply"})]})}),b?e.jsx(R,{}):e.jsx(G,{data:r==null?void 0:r.data,isPending:j}),e.jsx(W,{fromDate:g,toDate:f,currentPage:((C=r==null?void 0:r.pagination)==null?void 0:C.current_page)??i,setCurrentPage:d,totalPages:((F=r==null?void 0:r.pagination)==null?void 0:F.total_pages)??10})]})};export{ne as default};
