import{l as S,j as s,o as T,Q as y,r as f,L as C,F as O,S as b,T as h,aD as P,aE as _,aF as R,C as w,aG as F,b9 as D,aH as L,Y as M,a4 as $,c as k}from"./index-BTNegxn6.js";import{b as z}from"./index-BAyrqPH7.js";import{P as E}from"./PaginationButton-D3EFKaYh.js";import{u as H,T as I,a as N,b as v,c as p,d as t,e as B,f as n}from"./chunk-MGVPL3OH-oUuQI5MR.js";import{C as G}from"./chunk-YQO7BFFX-DEskQydj.js";import{C as Q}from"./chunk-2EW3JUUD-eV4TN0fb.js";import"./chevron-right-r3J6xi-7.js";var U=S((o,c)=>{const l=H();return s.jsx(T.tfoot,{...o,ref:c,__css:l.tfoot})});const q=({data:o,isPending:c})=>{const{isOpen:l,onOpen:g,onClose:m}=y(),[a,d]=f.useState(null),u=e=>{console.log(e),g(),d(e)},r=()=>{d(null),m()};return s.jsxs(s.Fragment,{children:[c?s.jsx(C,{height:window.innerHeight/2}):o&&o.length>0?o.map(e=>s.jsx(G,{cursor:"pointer",zIndex:0,shadow:"none",borderRadius:0,p:0,border:"1px solid",borderColor:"#939292",mb:4,onClick:()=>u(e),children:s.jsxs(Q,{as:O,justify:"space-between",align:"center",children:[s.jsxs(b,{children:[s.jsxs(h,{fontSize:{base:"sm",md:"md"},children:["Order Id: #",e.order_number]}),s.jsxs(h,{fontSize:{base:"14px",md:"16px",lg:"18px"},color:"#939292",children:["Placed On: ",e.order_date]})]}),s.jsx(b,{align:"center",gap:2,children:s.jsxs(h,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Rs. ",e.total_amount]})})]})},e.id)):s.jsx(h,{children:"No data found"}),a&&s.jsxs(P,{isOpen:l,onClose:r,motionPreset:"slideInTop",children:[s.jsx(_,{}),s.jsxs(R,{px:1,as:w,maxW:{base:"98vw",lg:"fit-content"},children:[s.jsx(F,{}),s.jsxs(D,{children:["Order Id: #",a.order_number]}),s.jsx(L,{children:s.jsx(I,{children:s.jsxs(N,{children:[s.jsx(v,{children:s.jsxs(p,{children:[s.jsx(t,{children:"S.N."}),s.jsx(t,{children:"Product Name"}),s.jsx(t,{children:"Quantity"}),s.jsx(t,{children:"Price"}),s.jsx(t,{children:"Discount"}),s.jsx(t,{children:"Amount"})]})}),s.jsx(B,{children:a.order_items.map((e,j)=>{var i,x;return s.jsxs(p,{children:[s.jsx(n,{children:j+1}),s.jsx(n,{children:s.jsx(M,{as:$,to:e.product.subcategory?`/product/${(i=e.product.category)==null?void 0:i.slug}/${e.product.subcategory.slug}/${e.product.id}`:`/product/${(x=e.product.category)==null?void 0:x.slug}/${e.product.id}`,children:e.product.name})}),s.jsx(n,{children:e.quantity}),s.jsxs(n,{children:["Rs. ",e.price]}),s.jsxs(n,{children:["Rs. ",e.discount??0]}),s.jsxs(n,{children:["Rs. ",e.total]})]},j)})}),s.jsxs(U,{children:[s.jsxs(p,{children:[s.jsx(n,{colSpan:3}),s.jsx(n,{children:"Discount"}),s.jsxs(n,{children:["Rs. ",a.discount_amount??0]}),s.jsx(n,{})]}),s.jsxs(p,{children:[s.jsx(n,{colSpan:3}),s.jsx(n,{children:"Grand Total"}),s.jsx(n,{}),s.jsxs(n,{children:["Rs. ",a.total_amount]})]})]})]})})})]})]})]})},Z=({fromDate:o,toDate:c,status:l})=>{var i,x;const g=k(),m=new URLSearchParams(g.search),a=Number(m.get("page"))||1,[d,u]=f.useState(1),{data:r,isPending:e,isFetching:j}=z(d,l,o,c);return f.useEffect(()=>{u(a)},[a]),s.jsxs(O,{flexDir:"column",gap:4,children:[s.jsx(b,{gap:4}),j?s.jsx(C,{}):s.jsx(q,{data:r==null?void 0:r.data,isPending:e}),s.jsx(E,{currentPage:((i=r==null?void 0:r.pagination)==null?void 0:i.current_page)??d,setCurrentPage:u,totalPages:((x=r==null?void 0:r.pagination)==null?void 0:x.total_pages)??10})]})};export{Z as default};
