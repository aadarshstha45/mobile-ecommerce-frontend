import{b2 as Pe,b3 as ve,b4 as je,r as n,b5 as Y,az as Ce,aA as N,b6 as K,x as L,b7 as Se,t as ke,aI as De,ac as Ie,b8 as Ee,b9 as Re,j as t,ba as Ae,bb as Fe,bc as ze,bd as ie,be as Le,bf as Te,bg as Oe,H as _e,aM as de,aj as Ne,bh as We,aD as Me,a1 as Be,aq as $e,ar as He,as as Ve,aK as qe,au as Qe,ae as k,k as Ke,T,L as ae,a as U,b as Z,B as W,an as Ge,aE as Xe,$ as Ye,i as ce,F as Q,K as le,S as Ze,aw as Je,I as Ue,al as et}from"./index-DQ2lrmGm.js";import{a as tt,u as st,b as rt}from"./index-CdO52GfW.js";import{A as ot,G as nt}from"./GoogleIcon-DBjPAB6O.js";import"./SelectInput-CUzynA1T.js";import{a as ue}from"./TextInput-ChqmmbFd.js";import{L as it}from"./auth-CF__1Ihl.js";import{A as at,L as ct}from"./chunk-EC6XFFZH-DFfv7t_k.js";import{t as lt}from"./zod-BEGqWhRk.js";import{a as ut}from"./index-iVE4t_pu.js";import{C as dt}from"./chunk-2EW3JUUD-DYLPTi_b.js";import{C as pt}from"./chunk-FHHZMTWR-CwOkj_tn.js";import{C as ht}from"./chunk-YQO7BFFX-C-Y5cD9s.js";import{S as gt}from"./shopping-bag-BDRfeRjd.js";function ft(e){const s=e.ownerDocument.defaultView||window,{overflow:r,overflowX:o,overflowY:u}=s.getComputedStyle(e);return/auto|scroll|overlay|hidden/.test(r+u+o)}function mt(e){return e.localName==="html"?e:e.assignedSlot||e.parentElement||e.ownerDocument.documentElement}function pe(e){return["html","body","#document"].includes(e.localName)?e.ownerDocument.body:Pe(e)&&ft(e)?e:pe(mt(e))}var xt={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},ee=e=>{var s;return((s=e.current)==null?void 0:s.ownerDocument)||document},G=e=>{var s,r;return((r=(s=e.current)==null?void 0:s.ownerDocument)==null?void 0:r.defaultView)||window};function bt(e={}){const{openDelay:s=0,closeDelay:r=0,closeOnClick:o=!0,closeOnMouseDown:u,closeOnScroll:g,closeOnPointerDown:p=u,closeOnEsc:a=!0,onOpen:d,onClose:m,placement:h,id:x,isOpen:P,defaultIsOpen:D,arrowSize:f=10,arrowShadowColor:b,arrowPadding:I,modifiers:E,isDisabled:y,gutter:v,offset:c,direction:O,...R}=e,{isOpen:l,onOpen:A,onClose:F}=ve({isOpen:P,defaultIsOpen:D,onOpen:d,onClose:m}),{referenceRef:M,getPopperProps:j,getArrowInnerProps:he,getArrowProps:ge}=je({enabled:l,placement:h,arrowPadding:I,modifiers:E,gutter:v,offset:c,direction:O}),fe=n.useId(),B=`tooltip-${x??fe}`,C=n.useRef(null),_=n.useRef(),z=n.useCallback(()=>{_.current&&(clearTimeout(_.current),_.current=void 0)},[]),$=n.useRef(),H=n.useCallback(()=>{$.current&&(clearTimeout($.current),$.current=void 0)},[]),V=n.useCallback(()=>{H(),F()},[F,H]),se=wt(C,V),q=n.useCallback(()=>{if(!y&&!_.current){l&&se();const i=G(C);_.current=i.setTimeout(A,s)}},[se,y,l,A,s]),w=n.useCallback(()=>{z();const i=G(C);$.current=i.setTimeout(V,r)},[r,V,z]),re=n.useCallback(()=>{l&&o&&w()},[o,w,l]),oe=n.useCallback(()=>{l&&p&&w()},[p,w,l]),me=n.useCallback(i=>{l&&i.key==="Escape"&&w()},[l,w]);Y(()=>ee(C),"keydown",a?me:void 0),Y(()=>{if(!g)return null;const i=C.current;if(!i)return null;const S=pe(i);return S.localName==="body"?G(C):S},"scroll",()=>{l&&g&&V()},{passive:!0,capture:!0}),n.useEffect(()=>{y&&(z(),l&&F())},[y,l,F,z]),n.useEffect(()=>()=>{z(),H()},[z,H]),Y(()=>C.current,"pointerleave",w);const xe=n.useCallback((i={},S=null)=>({...i,ref:Ce(C,S,M),onPointerEnter:N(i.onPointerEnter,ye=>{ye.pointerType!=="touch"&&q()}),onClick:N(i.onClick,re),onPointerDown:N(i.onPointerDown,oe),onFocus:N(i.onFocus,q),onBlur:N(i.onBlur,w),"aria-describedby":l?B:void 0}),[q,w,oe,l,B,re,M]),be=n.useCallback((i={},S=null)=>j({...i,style:{...i.style,[K.arrowSize.var]:f?`${f}px`:void 0,[K.arrowShadowColor.var]:b}},S),[j,f,b]),we=n.useCallback((i={},S=null)=>{const ne={...i.style,position:"relative",transformOrigin:K.transformOrigin.varRef};return{ref:S,...R,...i,id:B,role:"tooltip",style:ne}},[R,B]);return{isOpen:l,show:q,hide:w,getTriggerProps:xe,getTooltipProps:we,getTooltipPositionerProps:be,getArrowProps:ge,getArrowInnerProps:he}}var J="chakra-ui:close-tooltip";function wt(e,s){return n.useEffect(()=>{const r=ee(e);return r.addEventListener(J,s),()=>r.removeEventListener(J,s)},[s,e]),()=>{const r=ee(e),o=G(e);r.dispatchEvent(new o.CustomEvent(J))}}function yt(e,s=[]){const r=Object.assign({},e);for(const o of s)o in r&&delete r[o];return r}function Pt(e,s){const r={};for(const o of s)o in e&&(r[o]=e[o]);return r}var vt=L(Se.div),te=ke((e,s)=>{var r,o;const u=De("Tooltip",e),g=Ie(e),p=Ee(),{children:a,label:d,shouldWrapChildren:m,"aria-label":h,hasArrow:x,bg:P,portalProps:D,background:f,backgroundColor:b,bgColor:I,motionProps:E,...y}=g,v=(o=(r=f??b)!=null?r:P)!=null?o:I;if(v){u.bg=v;const j=Re(p,"colors",v);u[K.arrowBg.var]=j}const c=bt({...y,direction:p.direction}),O=typeof a=="string"||m;let R;if(O)R=t.jsx(L.span,{display:"inline-block",tabIndex:0,...c.getTriggerProps(),children:a});else{const j=n.Children.only(a);R=n.cloneElement(j,c.getTriggerProps(j.props,j.ref))}const l=!!h,A=c.getTooltipProps({},s),F=l?yt(A,["role","id"]):A,M=Pt(A,["role","id"]);return d?t.jsxs(t.Fragment,{children:[R,t.jsx(Ae,{children:c.isOpen&&t.jsx(Fe,{...D,children:t.jsx(L.div,{...c.getTooltipPositionerProps(),__css:{zIndex:u.zIndex,pointerEvents:"none"},children:t.jsxs(vt,{variants:xt,initial:"exit",animate:"enter",exit:"exit",...E,...F,__css:u,children:[d,l&&t.jsx(L.span,{srOnly:!0,...M,children:h}),x&&t.jsx(L.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:t.jsx(L.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:u.bg}})})]})})})})]}):t.jsx(t.Fragment,{children:a})});te.displayName="Tooltip";var jt=class extends ze{constructor(e,s){super(e,s)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,s){super.setOptions({...e,behavior:ie()},s)}getOptimisticResult(e){return e.behavior=ie(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,s){var f,b;const{state:r}=e,o=super.createResult(e,s),{isFetching:u,isRefetching:g,isError:p,isRefetchError:a}=o,d=(b=(f=r.fetchMeta)==null?void 0:f.fetchMore)==null?void 0:b.direction,m=p&&d==="forward",h=u&&d==="forward",x=p&&d==="backward",P=u&&d==="backward";return{...o,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Le(s,r.data),hasPreviousPage:Te(s,r.data),isFetchNextPageError:m,isFetchingNextPage:h,isFetchPreviousPageError:x,isFetchingPreviousPage:P,isRefetchError:a&&!m&&!x,isRefetching:g&&!h&&!P}}};function Ct(e,s){return Oe(e,jt)}var St=_e({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"});const X={getProducts:({page:e,sort:s})=>`shop?page=${e} ${s&&`&sort=${s}`}`,getProductById:e=>`get-product-details/${e}`,getRelatedProducts:e=>`get-related-products/${e}`,getProductsByCategory:e=>`get-products-by-category/${e}`,addViewAction:"/add-view-action"},kt=({sort:e,page:s})=>We.get(X.getProducts({sort:e,page:s})),Vt=e=>Ct({queryKey:["products",{sort:e}],queryFn:async({pageParam:s=1})=>(await kt({page:s,sort:e})).data,initialPageParam:1,getNextPageParam:(s,r)=>{var o;return((o=s==null?void 0:s.data)==null?void 0:o.length)===0?void 0:r.length+1}}),qt=e=>de({apiEndPoint:X.getProductById(e)}),Qt=e=>de({apiEndPoint:X.getRelatedProducts(e)}),Dt=()=>Ne({apiEndPoint:X.addViewAction});function It({isOpen:e,onClose:s}){const{mutateAsync:r,isPending:o}=Me(),{control:u,formState:{errors:g},reset:p,handleSubmit:a}=Be({defaultValues:{email:"",password:""},resolver:lt(it)}),d=async h=>{await r(h),p({email:"",password:""}),s(),p()},m=()=>{p({email:"",password:""}),s()};return t.jsxs($e,{isOpen:e,onClose:m,motionPreset:"slideInTop",children:[t.jsx(He,{}),t.jsxs(Ve,{as:"form",onSubmit:a(d),children:[t.jsx(qe,{textAlign:"center",children:"Login"}),t.jsxs(Qe,{py:6,children:[t.jsx(ue,{errors:g,label:"Email",name:"email",control:u,leftIcon:t.jsx(at,{}),isRequired:!0}),t.jsx(ue,{errors:g,label:"Password",name:"password",type:"password",control:u,leftIcon:t.jsx(ct,{}),isRequired:!0}),t.jsxs(k,{justifyContent:"space-between",mt:4,flexWrap:"wrap",children:[t.jsx(Ke,{colorScheme:"primary",size:{base:"sm",md:"md"},children:t.jsx(T,{fontSize:{base:"14px",sm:"16px"},children:"Remember me"})}),t.jsx(ae,{as:U,size:"lg",to:"/reset-password",color:"primary.500",mt:2,fontSize:{base:"14px",sm:"16px"},children:"Forgot Password?"})]}),t.jsx(Z,{type:"submit",colorScheme:"primary",w:"100%",mt:8,size:{base:"sm",md:"md"},borderRadius:0,isLoading:o,children:"Log In"}),t.jsx(ae,{as:U,to:"/register",color:"primary.500",mt:4,fontSize:{base:"14px",sm:"16px"},textAlign:"center",children:"Don't have an account? Register"}),t.jsxs(W,{pos:"relative",w:"100%",my:10,children:[t.jsx(Ge,{borderColor:"black",opacity:1,w:"full"}),t.jsx(ot,{fontSize:"12px",px:4,bg:"white",children:"OR continue with"})]}),t.jsxs(k,{align:"center",justify:"center",flexWrap:"wrap",spacing:4,children:[t.jsx(Z,{colorScheme:"primary",variant:"outline",size:{base:"sm",md:"md"},leftIcon:t.jsx(nt,{boxSize:6}),children:"Google"}),t.jsx(Z,{colorScheme:"facebook",variant:"outline",size:{base:"sm",md:"md"},leftIcon:t.jsx(Xe,{boxSize:6}),children:"Facebook"})]})]})]})]})}const Et="/assets/NoPicture-C_lL-0bt.png",Kt={0:1,350:2,850:3,1300:4},Gt=({data:e,colorOptions:s,discountPercent:r,imageWidth:o})=>{var b,I,E,y,v;const{isOpen:u,onOpen:g,onClose:p}=Ye(),{data:a}=tt(),[d,m]=n.useState(!1),h=st(),x=rt(),P=Dt(),D=async c=>{et.isAuthenticated()?d?await x.mutateAsync(c):await h.mutateAsync({product_id:c}):g()};n.useEffect(()=>{a!=null&&a.data&&(a==null?void 0:a.data.length)>0&&m(a.data.some(c=>c.id===e.id))},[a,e.id]);const f=async c=>{await P.mutateAsync({product_id:c})};return e?(console.log("Data AA: ",e),t.jsxs(t.Fragment,{children:[t.jsx(It,{isOpen:u,onClose:p}),e&&t.jsx(U,{onClick:()=>f(e.id),to:e!=null&&e.subcategory?`/product/${(b=e==null?void 0:e.category)==null?void 0:b.slug}/${e==null?void 0:e.subcategory.slug}/${e.id}`:`/product/${(I=e==null?void 0:e.category)==null?void 0:I.slug}/${e.id}`,children:t.jsxs(ht,{overflow:"hidden",h:"auto",w:"full",shadow:"none",borderRadius:0,role:"group",children:[t.jsxs(dt,{pos:"relative",overflow:"hidden",border:"1px solid #D2CFCF",p:0,children:[t.jsxs(ce,{opacity:{base:0,md:1},zIndex:90,gap:2,pos:"absolute",right:4,top:4,children:[t.jsx(te,{bg:"primary.500",label:"Cart",fontSize:"12px",children:t.jsx(Q,{border:"1px solid #D2CFCF",borderRadius:"50%",bg:"#D9D9D9",_hover:{bg:"#C6C6C6"},justify:"center",align:"center",p:2,children:t.jsx(le,{as:gt})})}),t.jsx(te,{bg:"primary.500",label:"WishList",fontSize:"12px",children:t.jsx(Q,{border:"1px solid #D2CFCF",borderRadius:"50%",bg:"#D9D9D9",_hover:{bg:"#C6C6C6"},justify:"center",align:"center",p:2,onClick:c=>{c.preventDefault(),D(e.id)},children:h.isPending||x.isPending?t.jsx(Ze,{size:"xs"}):t.jsx(le,{as:Je,fill:d?"red.500":"",textColor:d?"red.500":""})})})]}),e.image?t.jsx(W,{_groupHover:{transition:"0.3s",transform:"scale(1.1)",zIndex:-1},children:t.jsx(ut,{id:e.id,src:e.image,alt:e.id.toString(),w:o??"full"})}):t.jsx(Q,{w:"full",h:"full",p:20,bg:"#D9D9D9",children:t.jsx(Ue,{w:"full",aspectRatio:1/1,src:Et,alt:"No Picture",objectFit:"cover"})}),t.jsxs(Q,{pos:"absolute",top:4,left:4,flexDir:"column",w:"fit-content",textColor:"white",gap:2,children:[(e==null?void 0:e.is_new)&&t.jsx(W,{w:"fit-content",px:1,bg:"primary.500",fontSize:"12px",children:"New"}),r>0&&t.jsxs(W,{w:"fit-content",px:1,py:.5,bg:"red.400",fontSize:"12px",children:[r," %"]})]})]}),t.jsxs(pt,{px:0,children:[t.jsx(T,{fontSize:"12px",fontWeight:600,textColor:"#939292",children:(E=e.category)==null?void 0:E.name}),t.jsx(ce,{mb:2,children:t.jsx(T,{noOfLines:1,fontSize:{base:"14px",sm:"16px",lg:"18px"},fontWeight:500,children:e.name})}),t.jsx(k,{justify:"space-between",children:t.jsxs(k,{justifySelf:s?"flex-end":"flex-start",spacing:"2px",children:[t.jsx(St,{boxSize:3,color:"#FFC700"}),t.jsxs(T,{fontSize:"12px",fontWeight:500,textColor:"#939292",children:[(y=e.rating)==null?void 0:y.average," (",(v=e.rating)==null?void 0:v.total,")"]})]})}),t.jsxs(k,{justify:"space-between",mt:2,children:[s&&t.jsx(k,{spacing:"4px",flexWrap:"wrap",children:s==null?void 0:s.map((c,O)=>t.jsx(W,{aspectRatio:1,w:"14px",borderRadius:"50%",bg:c.color.hex_value},O))}),t.jsxs(k,{gap:2,children:[r&&t.jsxs(T,{fontSize:{base:"12px",sm:"14px",lg:"16px"},fontWeight:500,children:["Rs.",e.price*(1-r/100)]}),t.jsxs(T,{fontSize:r?{base:"10px",sm:"12px",lg:"14px"}:{base:"12px",sm:"14px",lg:"16px"},textColor:r?"#939292":"",textDecoration:r?"line-through":"none",fontWeight:r?400:500,children:["Rs. ",e.price]})]})]})]})]})})]})):null};export{Gt as I,It as M,St as S,te as T,qt as a,Vt as b,Kt as c,Qt as u};
