import{u as B,a as E,b as L,c as D,r as a,d as M,j as s,C as _,L as j,F as n,S as k,T as S,M as I,e as N}from"./index-BTNegxn6.js";import{B as R}from"./index-C7FyzncU.js";import{S as T}from"./SelectInput-D7O88_D5.js";import{c as U,I as z}from"./index-aKtWUFv8.js";import{P as W}from"./PaginationButton-D3EFKaYh.js";import{s as q}from"./data-9b5u404L.js";import"./chevron-right-r3J6xi-7.js";import"./chunk-H46NUPBZ-S_4FQTts.js";import"./index-CaUYnNwV.js";import"./GoogleIcon-B-uka8J-.js";import"./TextInput-DnqPEWIU.js";import"./x-Ca4hW-PW.js";import"./auth-lGRmtHiV.js";import"./zod-CKXNkm52.js";import"./chunk-EC6XFFZH-BDN_Hr6j.js";import"./index-YjdQ-OMx.js";import"./chunk-2EW3JUUD-eV4TN0fb.js";import"./chunk-YQO7BFFX-DEskQydj.js";import"./chunk-FHHZMTWR-CkosMvcB.js";import"./shopping-bag-FfKHmzXg.js";function cs(){var x,d,h,f;const{category_slug:l,slug:i}=B(),w=E(),[o]=L("(max-width: 540px)"),P=D(),r=new URLSearchParams(P.search),c=Number(r.get("page"))||1,m=r.get("sort")||"newest",[y,u]=a.useState(1),[p,g]=a.useState("newest");if(!i)throw new Error("Slug is required");const b=l?{category_slug:l,slug:i}:i,{data:e,isPending:v,isFetching:C}=M(c,b,p);a.useEffect(()=>{u(c)},[c]),a.useEffect(()=>{g(m)},[m]);const F=t=>{g(t.value),t.value!==""&&(r.set("page","1"),r.set("sort",t.value),w(`?${r.toString()}`))};return s.jsx(_,{as:"section",id:"collection",maxW:{base:"98vw",md:"95vw",lg:"80vw"},py:10,children:v?s.jsx(j,{}):s.jsxs(s.Fragment,{children:[s.jsxs(n,{gap:4,flexDir:o?"column":"row",justify:o?"center":"space-between",align:o?"start":"space-between",children:[s.jsxs(k,{gap:2,children:[s.jsx(S,{fontSize:{base:"18px",sm:"20px",md:"22px",lg:"24px"},fontWeight:500,children:(x=e==null?void 0:e.breadcrumbs)==null?void 0:x.category.name}),s.jsx(R,{})]}),s.jsx(T,{isControlled:!1,value:p,placeholder:"Sort by",name:"sort",handleChange:F,options:q})]}),s.jsxs(n,{mt:-6,flexDir:"column",gap:4,children:[s.jsx(n,{gap:4,mt:12,children:s.jsx(n,{flexDir:"column",w:{base:"full"},children:C?s.jsx(j,{}):e&&((d=e.data)==null?void 0:d.length)>0?s.jsx(I,{columnsCountBreakPoints:U,children:s.jsx(N,{gutter:o?"10px":"20px",children:e==null?void 0:e.data.map(t=>s.jsx(z,{data:t,discountPercent:t==null?void 0:t.discount},t.id))})}):s.jsx(S,{fontSize:"xl",children:"No products found"})})}),(e==null?void 0:e.pagination.total_items)>12&&s.jsx(W,{currentPage:((h=e==null?void 0:e.pagination)==null?void 0:h.current_page)??y,setCurrentPage:u,totalPages:((f=e==null?void 0:e.pagination)==null?void 0:f.total_pages)??2,sort:p})]})]})})}export{cs as default};
