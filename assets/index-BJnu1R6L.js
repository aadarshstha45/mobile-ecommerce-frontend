import{b as L,c as M,d as T,e as R,r as o,f as U,j as e,C as H,F as i,S as J,T as C,g as O,M as W,h as q}from"./index-BYmqbv07.js";import{B as I}from"./index-BmpHLAiZ.js";import{s as Q,C as $,a as A}from"./data-WuYLRPIz.js";import{S as G}from"./SelectInput--iFOlXvJ.js";import{c as K,I as V}from"./index-Z6CNjjJ5.js";import{P as X}from"./PaginationButton-BuLz2iz2.js";import"./chevron-right-Dsg0XuLI.js";import"./chunk-H46NUPBZ-B5mpJdB5.js";import"./index-BduA1reo.js";import"./GoogleIcon-3xkG-s3M.js";import"./TextInput-K6lDEhx3.js";import"./x-BBophU20.js";import"./auth-BIk5aCbF.js";import"./zod-BizRYsHx.js";import"./chunk-EC6XFFZH-smMCEvNa.js";import"./chunk-6SZ7MXCX-DrcNBBeP.js";import"./index-CI_oaxHb.js";import"./chunk-2EW3JUUD-DPIsEr5f.js";import"./chunk-YQO7BFFX-BUP1xbO7.js";import"./chunk-FHHZMTWR-Cnr-ZuDL.js";import"./shopping-bag-DY6XiWgj.js";function je(){var j,w,y;const{category_slug:x,slug:l}=L(),P=M(),[c]=T("(max-width: 540px)"),h=R(),b=h.pathname.split("/")[1].replace(/-/g," "),r=new URLSearchParams(h.search),p=Number(r.get("page"))||1,d=r.get("sort")||"",[v,f]=o.useState(1),[u,S]=o.useState("");if(!l)throw new Error("Slug is required");const F=x?{category_slug:x,slug:l}:l,[a,z]=o.useState([]),[g,B]=o.useState([]),{data:s,isPending:E,isFetching:_}=U(p,F,u,JSON.stringify(a),JSON.stringify(g));o.useEffect(()=>{f(p)},[p]),o.useEffect(()=>{S(d)},[d]);const k=t=>{S(t.value),t.value!==""&&(r.set("page","1"),r.set("sort",t.value),P(`?${r.toString()}`))},N=(t,n)=>{z(t.target.checked?[...a,n]:a.filter(m=>m!==n)),window.scroll({top:0,behavior:"smooth"})},D=(t,n)=>{B(t.target.checked?[...g,n]:g.filter(m=>m!==n)),window.scroll({top:0,behavior:"smooth"})};return o.useEffect(()=>{a.length>0},[a]),e.jsxs(H,{as:"section",id:"collection",maxW:{base:"98vw",md:"95vw"},py:10,children:[e.jsxs(i,{gap:4,flexDir:c?"column":"row",justify:c?"center":"space-between",align:c?"start":"space-between",children:[e.jsxs(J,{gap:2,children:[e.jsx(C,{fontSize:{base:"18px",sm:"20px",md:"22px",lg:"24px"},fontWeight:500,textTransform:"capitalize",children:b}),e.jsx(I,{})]}),e.jsx(G,{isControlled:!1,value:u,placeholder:"Sort by",name:"sort",handleChange:k,options:Q})]}),e.jsxs(i,{py:10,gap:4,children:[e.jsx(i,{w:{sm:"200px",md:"250px"},display:{base:"none",sm:"flex"},minH:window.innerHeight,children:e.jsxs(i,{flexDir:"column",gap:4,w:"full",children:[e.jsx($,{}),e.jsx(A,{handleSizeSelect:N,handleColorSelect:D})]})}),e.jsxs(i,{w:"full",flexDir:"column",gap:4,children:[E||_?e.jsx(O,{height:"500px"}):s&&((j=s.data)==null?void 0:j.length)>0?e.jsx(W,{columnsCountBreakPoints:K,children:e.jsx(q,{gutter:c?"10px":"20px",children:s==null?void 0:s.data.map(t=>e.jsx(V,{data:t,discountPercent:t==null?void 0:t.discount,colorOptions:(t==null?void 0:t.product_properties)&&t.product_properties},t.id))})}):e.jsx(C,{fontSize:"xl",children:"No products found"}),(s==null?void 0:s.pagination)&&(s==null?void 0:s.pagination.total_items)>12&&e.jsx(X,{currentPage:((w=s==null?void 0:s.pagination)==null?void 0:w.current_page)??v,setCurrentPage:f,totalPages:((y=s==null?void 0:s.pagination)==null?void 0:y.total_pages)??2,sort:u})]})]})]})}export{je as default};
