import{ba as N,bb as F,bc as W,bd as B,be as E,w as $,aR as k,aw as H,bf as _,aK as O,V as Q,j as s,aC as V,aD as T,aE as q,aS as G,aG as K,ar as p,aL as J,T as x,Y as R,a4 as C,a2 as P,B as f,aJ as Y,aM as Z,Q as U,r as z,S as A,F as y,x as L,b8 as X,aI as ee,I as se,ay as te}from"./index-_ZZwEaoi.js";import{a as re,u as ie,b as oe}from"./index-DeEn6aFW.js";import{A as ne,G as ae}from"./GoogleIcon-BWzw2QI3.js";import"./SelectInput-i5ntGipI.js";import{a as D}from"./TextInput-Co-4wDKY.js";import{L as ce}from"./auth-Blw7yHq8.js";import{A as le,L as de}from"./chunk-EC6XFFZH-D17zh42-.js";import{t as ue}from"./zod-ByYXaVY8.js";import{a as he}from"./index-CokbXm4l.js";import{C as xe}from"./chunk-2EW3JUUD-BJRX0t-O.js";import{C as pe}from"./chunk-FHHZMTWR-C43ff8Gl.js";import{C as ge}from"./chunk-YQO7BFFX-AesN-iQn.js";import{S as me}from"./shopping-bag-WB7vViET.js";var fe=class extends N{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:F()},t)}getOptimisticResult(e){return e.behavior=F(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var j,m;const{state:r}=e,a=super.createResult(e,t),{isFetching:l,isRefetching:u,isError:c,isRefetchError:i}=a,o=(m=(j=r.fetchMeta)==null?void 0:j.fetchMore)==null?void 0:m.direction,h=c&&o==="forward",d=l&&o==="forward",g=c&&o==="backward",b=l&&o==="backward";return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:W(t,r.data),hasPreviousPage:B(t,r.data),isFetchNextPageError:h,isFetchingNextPage:d,isFetchPreviousPageError:g,isFetchingPreviousPage:b,isRefetchError:i&&!h&&!g,isRefetching:u&&!d&&!b}}};function be(e,t){return E(e,fe)}var je=$({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"});const w={getProducts:({page:e,sort:t})=>`shop?page=${e} ${t&&`&sort=${t}`}`,getProductById:e=>`get-product-details/${e}`,getRelatedProducts:e=>`get-related-products/${e}`,getProductsByCategory:e=>`get-products-by-category/${e}`,addViewAction:"/add-view-action"},ye=({sort:e,page:t})=>_.get(w.getProducts({sort:e,page:t})),Be=e=>be({queryKey:["products",{sort:e}],queryFn:async({pageParam:t=1})=>(await ye({page:t,sort:e})).data,initialPageParam:1,getNextPageParam:(t,r)=>{var a;return((a=t==null?void 0:t.data)==null?void 0:a.length)===0?void 0:r.length+1}}),Ee=e=>k({apiEndPoint:w.getProductById(e)}),$e=e=>k({apiEndPoint:w.getRelatedProducts(e)}),we=()=>H({apiEndPoint:w.addViewAction});function Pe({isOpen:e,onClose:t}){const{mutateAsync:r,isPending:a}=O(),{control:l,formState:{errors:u},reset:c,handleSubmit:i}=Q({defaultValues:{email:"",password:""},resolver:ue(ce)}),o=async d=>{await r(d),c({email:"",password:""}),t(),c()},h=()=>{c({email:"",password:""}),t()};return s.jsxs(V,{isOpen:e,onClose:h,motionPreset:"slideInTop",children:[s.jsx(T,{}),s.jsxs(q,{as:"form",onSubmit:i(o),children:[s.jsx(G,{textAlign:"center",children:"Login"}),s.jsxs(K,{py:6,children:[s.jsx(D,{errors:u,label:"Email",name:"email",control:l,leftIcon:s.jsx(le,{}),isRequired:!0}),s.jsx(D,{errors:u,label:"Password",name:"password",type:"password",control:l,leftIcon:s.jsx(de,{}),isRequired:!0}),s.jsxs(p,{justifyContent:"space-between",mt:4,flexWrap:"wrap",children:[s.jsx(J,{colorScheme:"primary",size:{base:"sm",md:"md"},children:s.jsx(x,{fontSize:{base:"14px",sm:"16px"},children:"Remember me"})}),s.jsx(R,{as:C,size:"lg",to:"/reset-password",color:"primary.500",mt:2,fontSize:{base:"14px",sm:"16px"},children:"Forgot Password?"})]}),s.jsx(P,{type:"submit",colorScheme:"primary",w:"100%",mt:8,size:{base:"sm",md:"md"},borderRadius:0,isLoading:a,children:"Log In"}),s.jsx(R,{as:C,to:"/register",color:"primary.500",mt:4,fontSize:{base:"14px",sm:"16px"},textAlign:"center",children:"Don't have an account? Register"}),s.jsxs(f,{pos:"relative",w:"100%",my:10,children:[s.jsx(Y,{borderColor:"black",opacity:1,w:"full"}),s.jsx(ne,{fontSize:"12px",px:4,bg:"white",children:"OR continue with"})]}),s.jsxs(p,{align:"center",justify:"center",flexWrap:"wrap",spacing:4,children:[s.jsx(P,{colorScheme:"primary",variant:"outline",size:{base:"sm",md:"md"},leftIcon:s.jsx(ae,{boxSize:6}),children:"Google"}),s.jsx(P,{colorScheme:"facebook",variant:"outline",size:{base:"sm",md:"md"},leftIcon:s.jsx(Z,{boxSize:6}),children:"Facebook"})]})]})]})]})}const Ce="/assets/NoPicture-C_lL-0bt.png",He={0:1,350:2,850:3,1300:4},_e=({data:e,colorOptions:t,discountPercent:r,imageWidth:a})=>{var m,v,I;const{isOpen:l,onOpen:u,onClose:c}=U(),{data:i}=re(),[o,h]=z.useState(!1),d=ie(),g=oe(),b=we(),S=async n=>{te.isAuthenticated()?o?await g.mutateAsync(n):await d.mutateAsync({product_id:n}):u()};z.useEffect(()=>{i!=null&&i.data&&(i==null?void 0:i.data.length)>0&&h(i.data.some(n=>n.id===e.id))},[i,e.id]);const j=async n=>{await b.mutateAsync({product_id:n})};return e?s.jsxs(s.Fragment,{children:[s.jsx(Pe,{isOpen:l,onClose:c}),e&&s.jsx(C,{onClick:()=>j(e.id),to:e!=null&&e.subcategory?`/product/${(m=e==null?void 0:e.category)==null?void 0:m.slug}/${e==null?void 0:e.subcategory.slug}/${e.id}`:`/product/${(v=e==null?void 0:e.category)==null?void 0:v.slug}/${e.id}`,children:s.jsxs(ge,{overflow:"hidden",h:"auto",w:"full",shadow:"none",borderRadius:0,role:"group",children:[s.jsxs(xe,{pos:"relative",overflow:"hidden",border:"1px solid #D2CFCF",p:0,children:[s.jsxs(A,{opacity:{base:0,md:1},zIndex:90,gap:2,pos:"absolute",right:4,top:4,children:[s.jsx(y,{border:"1px solid #D2CFCF",borderRadius:"50%",bg:"#D9D9D9",_hover:{bg:"#C6C6C6"},justify:"center",align:"center",p:2,children:s.jsx(L,{as:me})}),s.jsx(y,{border:"1px solid #D2CFCF",borderRadius:"50%",bg:"#D9D9D9",_hover:{bg:"#C6C6C6"},justify:"center",align:"center",p:2,onClick:n=>{n.preventDefault(),S(e.id)},children:d.isPending||g.isPending?s.jsx(X,{size:"xs"}):s.jsx(L,{as:ee,fill:o?"red.500":"",textColor:o?"red.500":""})})]}),e.image?s.jsx(f,{_groupHover:{transition:"0.3s",transform:"scale(1.1)",zIndex:-1},children:s.jsx(he,{id:e.id,src:e.image,alt:e.id.toString(),w:a??"full"})}):s.jsx(y,{w:"full",h:"full",p:20,bg:"#D9D9D9",children:s.jsx(se,{w:"full",aspectRatio:1/1,src:Ce,alt:"No Picture",objectFit:"cover"})}),s.jsxs(y,{pos:"absolute",top:4,left:4,flexDir:"column",w:"fit-content",textColor:"white",gap:2,children:[(e==null?void 0:e.is_new)&&s.jsx(f,{w:"fit-content",px:1,bg:"primary.500",fontSize:"12px",children:"New"}),r>0&&s.jsxs(f,{w:"fit-content",px:1,py:.5,bg:"red.400",fontSize:"12px",children:[r," %"]})]})]}),s.jsxs(pe,{px:0,children:[s.jsx(x,{fontSize:"12px",fontWeight:600,textColor:"#939292",children:(I=e.category)==null?void 0:I.name}),s.jsx(A,{mb:2,children:s.jsx(x,{noOfLines:1,fontSize:{base:"14px",sm:"16px",lg:"18px"},fontWeight:500,children:e.name})}),s.jsx(p,{justify:"space-between",children:t&&s.jsx(p,{spacing:"4px",children:t==null?void 0:t.map((n,M)=>s.jsx(f,{h:"14px",w:"14px",borderRadius:"50%",bg:n.hex_value},M))})}),s.jsxs(p,{spacing:"2px",children:[s.jsx(je,{boxSize:3,color:"#FFC700"}),s.jsx(x,{fontSize:"12px",fontWeight:500,textColor:"#939292",children:"4.5 (200)"})]}),s.jsxs(p,{gap:2,mt:2,children:[r&&s.jsxs(x,{fontSize:{base:"12px",sm:"14px",lg:"16px"},fontWeight:500,children:["Rs.",e.price*(1-r/100)]}),s.jsxs(x,{fontSize:r?{base:"10px",sm:"12px",lg:"14px"}:{base:"12px",sm:"14px",lg:"16px"},textColor:r?"#939292":"",textDecoration:r?"line-through":"none",fontWeight:r?400:500,children:["Rs. ",e.price]})]})]})]})})]}):null};export{_e as I,Pe as M,je as S,Ee as a,Be as b,He as c,$e as u};
