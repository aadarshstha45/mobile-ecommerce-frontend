import{r as d,a as be,b as pt,c as mt,m as De,d as We,f as te,e as gt,o as vt,g as xt,j as c,h as ne,S as qe,T as Z,H as St,i as bt,k as yt,l as wt,n as Pt,p as kt,q as Tt,C as Et,F as Q,s as Rt,t as Ct,L as jt,M as Mt,v as _t}from"./index-DqMwINjK.js";import{B as It}from"./index-xALui9hh.js";import{s as At,F as Vt,C as Ne,a as ze,H as Ft}from"./data-B7U_XaCt.js";import{S as $t}from"./SelectInput-CTQDdc_4.js";import{c as Dt,I as Nt}from"./index-B4M-u2bE.js";import{P as zt}from"./PaginationButton-D1WqlBoU.js";import"./CaretRight-CadJDqK9.js";import"./index.esm-BKhoN415.js";import"./chunk-H46NUPBZ-CLw7Qts3.js";import"./index-Dm-p0tYJ.js";import"./GoogleIcon-Bm8RntfT.js";import"./Lock-A4c70TZM.js";import"./TextInput-Sb6gmVGI.js";import"./X-CpqrLOaj.js";import"./auth-C9KVgX0N.js";import"./zod-D--hjMPf.js";import"./profile-ngARQAsV.js";import"./review-DOXwsJ1N.js";import"./index-Wi1vYxL2.js";import"./chunk-2EW3JUUD-CHZorT9F.js";import"./chunk-YQO7BFFX-BGZlorz9.js";import"./chunk-FHHZMTWR-BNUgKpg7.js";const Ke=1/60*1e3,Bt=typeof performance<"u"?()=>performance.now():()=>Date.now(),Ye=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(Bt()),Ke);function Lt(e){let t=[],n=[],r=0,o=!1,i=!1;const l=new WeakSet,h={schedule:(a,f=!1,v=!1)=>{const m=v&&o,b=m?t:n;return f&&l.add(a),b.indexOf(a)===-1&&(b.push(a),m&&o&&(r=t.length)),a},cancel:a=>{const f=n.indexOf(a);f!==-1&&n.splice(f,1),l.delete(a)},process:a=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let f=0;f<r;f++){const v=t[f];v(a),l.has(v)&&(h.schedule(v),e())}o=!1,i&&(i=!1,h.process(a))}};return h}const Ut=40;let Te=!0,ee=!1,Ee=!1;const X={delta:0,timestamp:0},re=["read","update","preRender","render","postRender"],de=re.reduce((e,t)=>(e[t]=Lt(()=>ee=!0),e),{}),Ot=re.reduce((e,t)=>{const n=de[t];return e[t]=(r,o=!1,i=!1)=>(ee||qt(),n.schedule(r,o,i)),e},{}),Ht=re.reduce((e,t)=>(e[t]=de[t].cancel,e),{});re.reduce((e,t)=>(e[t]=()=>de[t].process(X),e),{});const Wt=e=>de[e].process(X),Xe=e=>{ee=!1,X.delta=Te?Ke:Math.max(Math.min(e-X.timestamp,Ut),1),X.timestamp=e,Ee=!0,re.forEach(Wt),Ee=!1,ee&&(Te=!1,Ye(Xe))},qt=()=>{ee=!0,Te=!0,Ee||Ye(Xe)},Be=()=>X;function Kt(e){const t=parseFloat(e);return typeof t!="number"||Number.isNaN(t)?0:t}function Yt(e,t){let n=Kt(e);const r=10**(t??10);return n=Math.round(n*r)/r,t?n.toFixed(t):n.toString()}function Xt(e){if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n}function Le(e,t,n){return(e-t)*100/(n-t)}function Jt(e,t,n){return(n-t)*e+t}function Qt(e,t,n){const r=Math.round((e-t)/n)*n+t,o=Xt(n);return Yt(r,o)}function Ue(e,t,n){return e==null?e:(n<t&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(e,t),n))}var Y=e=>e?"":void 0,ye=e=>e?!0:void 0,Ce=(...e)=>e.filter(Boolean).join(" ");function we(...e){return function(n){e.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function Gt(e){return{root:`slider-root-${e}`,getThumb:t=>`slider-thumb-${e}-${t}`,getInput:t=>`slider-input-${e}-${t}`,track:`slider-track-${e}`,innerTrack:`slider-filled-track-${e}`,getMarker:t=>`slider-marker-${e}-${t}`,output:`slider-output-${e}`}}function G(e){const{orientation:t,vertical:n,horizontal:r}=e;return t==="vertical"?n:r}var ue={width:0,height:0},le=e=>e||ue;function Zt(e){const{orientation:t,thumbPercents:n,thumbRects:r,isReversed:o}=e,i=C=>{var T;const V=(T=r[C])!=null?T:ue;return{position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...G({orientation:t,vertical:{bottom:`calc(${n[C]}% - ${V.height/2}px)`},horizontal:{left:`calc(${n[C]}% - ${V.width/2}px)`}})}},l=t==="vertical"?r.reduce((C,T)=>le(C).height>le(T).height?C:T,ue):r.reduce((C,T)=>le(C).width>le(T).width?C:T,ue),h={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0,...G({orientation:t,vertical:l?{paddingLeft:l.width/2,paddingRight:l.width/2}:{},horizontal:l?{paddingTop:l.height/2,paddingBottom:l.height/2}:{}})},a={position:"absolute",...G({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},f=n.length===1,v=[0,o?100-n[0]:n[0]],m=f?v:n;let b=m[0];!f&&o&&(b=100-b);const I=Math.abs(m[m.length-1]-m[0]),A={...a,...G({orientation:t,vertical:o?{height:`${I}%`,top:`${b}%`}:{height:`${I}%`,bottom:`${b}%`},horizontal:o?{width:`${I}%`,right:`${b}%`}:{width:`${I}%`,left:`${b}%`}})};return{trackStyle:a,innerTrackStyle:A,rootStyle:h,getThumbStyle:i}}function en(e){const{isReversed:t,direction:n,orientation:r}=e;return n==="ltr"||r==="vertical"?t:!t}function tn(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function nn(e){const t=sn(e);return typeof t.PointerEvent<"u"&&e instanceof t.PointerEvent?e.pointerType==="mouse":e instanceof t.MouseEvent}function Je(e){return!!e.touches}function rn(e){return Je(e)&&e.touches.length>1}function sn(e){var t;return(t=e.view)!=null?t:window}function on(e,t="page"){const n=e.touches[0]||e.changedTouches[0];return{x:n[`${t}X`],y:n[`${t}Y`]}}function an(e,t="page"){return{x:e[`${t}X`],y:e[`${t}Y`]}}function Qe(e,t="page"){return Je(e)?on(e,t):an(e,t)}function ln(e){return t=>{const n=nn(t);(!n||n&&t.button===0)&&e(t)}}function un(e,t=!1){function n(o){e(o,{point:Qe(o)})}return t?ln(n):n}function ce(e,t,n,r){return tn(e,t,un(n,t==="pointerdown"),r)}var cn=Object.defineProperty,dn=(e,t,n)=>t in e?cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t,n)=>(dn(e,typeof t!="symbol"?t+"":t,n),n),hn=class{constructor(e,t,n){_(this,"history",[]),_(this,"startEvent",null),_(this,"lastEvent",null),_(this,"lastEventInfo",null),_(this,"handlers",{}),_(this,"removeListeners",()=>{}),_(this,"threshold",3),_(this,"win"),_(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const h=Pe(this.lastEventInfo,this.history),a=this.startEvent!==null,f=gn(h.offset,{x:0,y:0})>=this.threshold;if(!a&&!f)return;const{timestamp:v}=Be();this.history.push({...h.point,timestamp:v});const{onStart:m,onMove:b}=this.handlers;a||(m==null||m(this.lastEvent,h),this.startEvent=this.lastEvent),b==null||b(this.lastEvent,h)}),_(this,"onPointerMove",(h,a)=>{this.lastEvent=h,this.lastEventInfo=a,Ot.update(this.updatePoint,!0)}),_(this,"onPointerUp",(h,a)=>{const f=Pe(a,this.history),{onEnd:v,onSessionEnd:m}=this.handlers;m==null||m(h,f),this.end(),!(!v||!this.startEvent)&&(v==null||v(h,f))});var r;if(this.win=(r=e.view)!=null?r:window,rn(e))return;this.handlers=t,n&&(this.threshold=n),e.stopPropagation(),e.preventDefault();const o={point:Qe(e)},{timestamp:i}=Be();this.history=[{...o.point,timestamp:i}];const{onSessionStart:l}=t;l==null||l(e,Pe(o,this.history)),this.removeListeners=mn(ce(this.win,"pointermove",this.onPointerMove),ce(this.win,"pointerup",this.onPointerUp),ce(this.win,"pointercancel",this.onPointerUp))}updateHandlers(e){this.handlers=e}end(){var e;(e=this.removeListeners)==null||e.call(this),Ht.update(this.updatePoint)}};function Oe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pe(e,t){return{point:e.point,delta:Oe(e.point,t[t.length-1]),offset:Oe(e.point,t[0]),velocity:pn(t,.1)}}var fn=e=>e*1e3;function pn(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=e[e.length-1];for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>fn(t)));)n--;if(!r)return{x:0,y:0};const i=(o.timestamp-r.timestamp)/1e3;if(i===0)return{x:0,y:0};const l={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function mn(...e){return t=>e.reduce((n,r)=>r(n),t)}function ke(e,t){return Math.abs(e-t)}function He(e){return"x"in e&&"y"in e}function gn(e,t){if(typeof e=="number"&&typeof t=="number")return ke(e,t);if(He(e)&&He(t)){const n=ke(e.x,t.x),r=ke(e.y,t.y);return Math.sqrt(n**2+r**2)}return 0}function vn(e){const t=d.useRef(null);return t.current=e,t}function xn(e,t){const{onPan:n,onPanStart:r,onPanEnd:o,onPanSessionStart:i,onPanSessionEnd:l,threshold:h}=t,a=!!(n||r||o||i||l),f=d.useRef(null),v=vn({onSessionStart:i,onSessionEnd:l,onStart:r,onMove:n,onEnd(m,b){f.current=null,o==null||o(m,b)}});d.useEffect(()=>{var m;(m=f.current)==null||m.updateHandlers(v.current)}),d.useEffect(()=>{const m=e.current;if(!m||!a)return;function b(I){f.current=new hn(I,v.current,h)}return ce(m,"pointerdown",b)},[e,a,v,h]),d.useEffect(()=>()=>{var m;(m=f.current)==null||m.end(),f.current=null},[])}function Sn(e,t){if(!e){t(void 0);return}t({width:e.offsetWidth,height:e.offsetHeight});const n=e.ownerDocument.defaultView??window,r=new n.ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const[i]=o;let l,h;if("borderBoxSize"in i){const a=i.borderBoxSize,f=Array.isArray(a)?a[0]:a;l=f.inlineSize,h=f.blockSize}else l=e.offsetWidth,h=e.offsetHeight;t({width:l,height:h})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}var bn=globalThis!=null&&globalThis.document?d.useLayoutEffect:d.useEffect;function yn(e,t){var n,r;if(!e||!e.parentElement)return;const o=(r=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?r:window,i=new o.MutationObserver(()=>{t()});return i.observe(e.parentElement,{childList:!0}),()=>{i.disconnect()}}function wn({getNodes:e,observeMutation:t=!0}){const[n,r]=d.useState([]),[o,i]=d.useState(0);return bn(()=>{const l=e(),h=l.map((a,f)=>Sn(a,v=>{r(m=>[...m.slice(0,f),v,...m.slice(f+1)])}));if(t){const a=l[0];h.push(yn(a,()=>{i(f=>f+1)}))}return()=>{h.forEach(a=>{a==null||a()})}},[o]),n}function Pn(e){const{min:t=0,max:n=100,onChange:r,value:o,defaultValue:i,isReversed:l,direction:h="ltr",orientation:a="horizontal",id:f,isDisabled:v,isReadOnly:m,onChangeStart:b,onChangeEnd:I,step:A=1,getAriaValueText:C,"aria-valuetext":T,"aria-label":V,"aria-labelledby":D,name:U,focusThumbOnChange:y=!0,minStepsBetweenThumbs:pe=0,...se}=e,oe=be(b),N=be(I),O=be(C),j=en({isReversed:l,direction:h,orientation:a}),[H,W]=pt({value:o,defaultValue:i??[25,75],onChange:r});if(!Array.isArray(H))throw new TypeError(`[range-slider] You passed an invalid value for \`value\` or \`defaultValue\`, expected \`Array\` but got \`${typeof H}\``);const[q,J]=d.useState(!1),[K,S]=d.useState(!1),[x,$]=d.useState(-1),B=!(v||m),tt=d.useRef(H),P=H.map(s=>Ue(s,t,n)),nt=pe*A,z=kn(P,t,n,nt),E=d.useRef({eventSource:null,value:[],valueBounds:[]});E.current.value=P,E.current.valueBounds=z;const rt=P.map(s=>n-s+t),me=(j?rt:P).map(s=>Le(s,t,n)),ge=a==="vertical",ve=d.useRef(null),ae=d.useRef(null),je=wn({getNodes(){const s=ae.current,u=s==null?void 0:s.querySelectorAll("[role=slider]");return u?Array.from(u):[]}}),st=d.useId(),k=Gt(f??st),Me=d.useCallback(s=>{var u,g;if(!ve.current)return;E.current.eventSource="pointer";const p=ve.current.getBoundingClientRect(),{clientX:w,clientY:F}=(g=(u=s.touches)==null?void 0:u[0])!=null?g:s,M=ge?p.bottom-F:w-p.left,L=ge?p.height:p.width;let Se=M/L;return j&&(Se=1-Se),Jt(Se,t,n)},[ge,j,n,t]),xe=(n-t)/10,ie=A||(n-t)/100,R=d.useMemo(()=>({setValueAtIndex(s,u){if(!B)return;const g=E.current.valueBounds[s];u=parseFloat(Qt(u,g.min,ie)),u=Ue(u,g.min,g.max);const p=[...E.current.value];p[s]=u,W(p)},setActiveIndex:$,stepUp(s,u=ie){const g=E.current.value[s],p=j?g-u:g+u;R.setValueAtIndex(s,p)},stepDown(s,u=ie){const g=E.current.value[s],p=j?g+u:g-u;R.setValueAtIndex(s,p)},reset(){W(tt.current)}}),[ie,j,W,B]),_e=d.useCallback(s=>{const u=s.key,p={ArrowRight:()=>R.stepUp(x),ArrowUp:()=>R.stepUp(x),ArrowLeft:()=>R.stepDown(x),ArrowDown:()=>R.stepDown(x),PageUp:()=>R.stepUp(x,xe),PageDown:()=>R.stepDown(x,xe),Home:()=>{const{min:w}=z[x];R.setValueAtIndex(x,w)},End:()=>{const{max:w}=z[x];R.setValueAtIndex(x,w)}}[u];p&&(s.preventDefault(),s.stopPropagation(),p(s),E.current.eventSource="keyboard")},[R,x,xe,z]),{getThumbStyle:Ie,rootStyle:Ae,trackStyle:Ve,innerTrackStyle:Fe}=d.useMemo(()=>Zt({isReversed:j,orientation:a,thumbRects:je,thumbPercents:me}),[j,a,me,je]),$e=d.useCallback(s=>{var u;const g=s??x;if(g!==-1&&y){const p=k.getThumb(g),w=(u=ae.current)==null?void 0:u.ownerDocument.getElementById(p);w&&setTimeout(()=>w.focus())}},[y,x,k]);mt(()=>{E.current.eventSource==="keyboard"&&(N==null||N(E.current.value))},[P,N]);const ot=s=>{const u=Me(s)||0,g=E.current.value.map(L=>Math.abs(L-u)),p=Math.min(...g);let w=g.indexOf(p);const F=g.filter(L=>L===p);F.length>1&&u>E.current.value[w]&&(w=w+F.length-1),$(w),R.setValueAtIndex(w,u),$e(w)},at=s=>{if(x==-1)return;const u=Me(s)||0;$(x),R.setValueAtIndex(x,u),$e(x)};xn(ae,{onPanSessionStart(s){B&&(J(!0),ot(s),oe==null||oe(E.current.value))},onPanSessionEnd(){B&&(J(!1),N==null||N(E.current.value))},onPan(s){B&&at(s)}});const it=d.useCallback((s={},u=null)=>({...s,...se,id:k.root,ref:De(u,ae),tabIndex:-1,"aria-disabled":ye(v),"data-focused":Y(K),style:{...s.style,...Ae}}),[se,v,K,Ae,k]),lt=d.useCallback((s={},u=null)=>({...s,ref:De(u,ve),id:k.track,"data-disabled":Y(v),style:{...s.style,...Ve}}),[v,Ve,k]),ut=d.useCallback((s={},u=null)=>({...s,ref:u,id:k.innerTrack,style:{...s.style,...Fe}}),[Fe,k]),ct=d.useCallback((s,u=null)=>{var g;const{index:p,...w}=s,F=P[p];if(F==null)throw new TypeError(`[range-slider > thumb] Cannot find value at index \`${p}\`. The \`value\` or \`defaultValue\` length is : ${P.length}`);const M=z[p];return{...w,ref:u,role:"slider",tabIndex:B?0:void 0,id:k.getThumb(p),"data-active":Y(q&&x===p),"aria-valuetext":(g=O==null?void 0:O(F))!=null?g:T==null?void 0:T[p],"aria-valuemin":M.min,"aria-valuemax":M.max,"aria-valuenow":F,"aria-orientation":a,"aria-disabled":ye(v),"aria-readonly":ye(m),"aria-label":V==null?void 0:V[p],"aria-labelledby":V!=null&&V[p]||D==null?void 0:D[p],style:{...s.style,...Ie(p)},onKeyDown:we(s.onKeyDown,_e),onFocus:we(s.onFocus,()=>{S(!0),$(p)}),onBlur:we(s.onBlur,()=>{S(!1),$(-1)})}},[k,P,z,B,q,x,O,T,a,v,m,V,D,Ie,_e,S]),dt=d.useCallback((s={},u=null)=>({...s,ref:u,id:k.output,htmlFor:P.map((g,p)=>k.getThumb(p)).join(" "),"aria-live":"off"}),[k,P]),ht=d.useCallback((s,u=null)=>{const{value:g,...p}=s,w=!(g<t||g>n),F=g>=P[0]&&g<=P[P.length-1];let M=Le(g,t,n);M=j?100-M:M;const L={position:"absolute",pointerEvents:"none",...G({orientation:a,vertical:{bottom:`${M}%`},horizontal:{left:`${M}%`}})};return{...p,ref:u,id:k.getMarker(s.value),role:"presentation","aria-hidden":!0,"data-disabled":Y(v),"data-invalid":Y(!w),"data-highlighted":Y(F),style:{...s.style,...L}}},[v,j,n,t,a,P,k]),ft=d.useCallback((s,u=null)=>{const{index:g,...p}=s;return{...p,ref:u,id:k.getInput(g),type:"hidden",value:P[g],name:Array.isArray(U)?U[g]:`${U}-${g}`}},[U,P,k]);return{state:{value:P,isFocused:K,isDragging:q,getThumbPercent:s=>me[s],getThumbMinValue:s=>z[s].min,getThumbMaxValue:s=>z[s].max},actions:R,getRootProps:it,getTrackProps:lt,getInnerTrackProps:ut,getThumbProps:ct,getMarkerProps:ht,getInputProps:ft,getOutputProps:dt}}function kn(e,t,n,r){return e.map((o,i)=>{const l=i===0?t:e[i-1]+r,h=i===e.length-1?n:e[i+1]-r;return{min:l,max:h}})}var[Tn,he]=We({name:"SliderContext",errorMessage:"useSliderContext: `context` is undefined. Seems you forgot to wrap all slider components within <RangeSlider />"}),[En,fe]=We({name:"RangeSliderStylesContext",errorMessage:`useRangeSliderStyles returned is 'undefined'. Seems you forgot to wrap the components in "<RangeSlider />" `}),Ge=te(function(t,n){const r={orientation:"horizontal",...t},o=gt("Slider",r),i=vt(r),{direction:l}=xt();i.direction=l;const{getRootProps:h,...a}=Pn(i),f=d.useMemo(()=>({...a,name:r.name}),[a,r.name]);return c.jsx(Tn,{value:f,children:c.jsx(En,{value:o,children:c.jsx(ne.div,{...h({},n),className:"chakra-slider",__css:o.container,children:r.children})})})});Ge.displayName="RangeSlider";var Re=te(function(t,n){const{getThumbProps:r,getInputProps:o,name:i}=he(),l=fe(),h=r(t,n);return c.jsxs(ne.div,{...h,className:Ce("chakra-slider__thumb",t.className),__css:l.thumb,children:[h.children,i&&c.jsx("input",{...o({index:t.index})})]})});Re.displayName="RangeSliderThumb";var Ze=te(function(t,n){const{getTrackProps:r}=he(),o=fe(),i=r(t,n);return c.jsx(ne.div,{...i,className:Ce("chakra-slider__track",t.className),__css:o.track,"data-testid":"chakra-range-slider-track"})});Ze.displayName="RangeSliderTrack";var et=te(function(t,n){const{getInnerTrackProps:r}=he(),o=fe(),i=r(t,n);return c.jsx(ne.div,{...i,className:"chakra-slider__filled-track",__css:o.filledTrack})});et.displayName="RangeSliderFilledTrack";var Rn=te(function(t,n){const{getMarkerProps:r}=he(),o=fe(),i=r(t,n);return c.jsx(ne.div,{...i,className:Ce("chakra-slider__marker",t.className),__css:o.mark})});Rn.displayName="RangeSliderMark";function Cn({priceRange:e,onChangeEnd:t,name:n}){return c.jsxs(qe,{children:[c.jsx(Z,{fontWeight:700,children:"Price Range"}),c.jsxs(Ge,{name:n,"aria-label":["min","max"],colorScheme:"primary",onChangeEnd:r=>t(r),min:0,max:1e4,step:100,defaultValue:[0,1e4],children:[c.jsx(Ze,{bg:"gray.500",children:c.jsx(et,{bg:"primary.500"})}),c.jsx(Re,{index:0}),c.jsx(Re,{index:1})]}),c.jsxs(St,{justify:"space-between",children:[c.jsx(Z,{textColor:"gray.500",children:e[0]}),c.jsx(Z,{textColor:"gray.500",children:e[1]})]})]})}function er(){var q,J,K;const{category_slug:e,slug:t}=bt(),n=yt(),[r]=wt("(max-width: 540px)"),o=Pt(),i=o.pathname.split("/")[1].replace(/-/g," "),l=new URLSearchParams(o.search),h=Number(l.get("page"))||1,a=l.get("sort")||"",[f,v]=d.useState(1),[m,b]=d.useState("");if(!t)throw new Error("Slug is required");const I=e?{category_slug:e,slug:t}:t,[A,C]=d.useState([]),[T,V]=d.useState([]),[D,U]=d.useState([0,0]),{data:y,isPending:pe,isFetching:se}=kt(h,I,m,JSON.stringify(A),JSON.stringify(T));d.useEffect(()=>{v(h)},[h]),d.useEffect(()=>{b(a)},[a]),d.useEffect(()=>{console.log({min:D[0],max:D[1]})},[D]);const oe=S=>{b(S.value),S.value!==""&&(l.set("page","1"),l.set("sort",S.value),n(`?${l.toString()}`))},N=(S,x)=>{C(S.target.checked?[...A,x]:A.filter($=>$!==x)),window.scroll({top:0,behavior:"smooth"})},O=(S,x)=>{V(S.target.checked?[...T,x]:T.filter($=>$!==x)),window.scroll({top:0,behavior:"smooth"})};d.useEffect(()=>{A.length>0},[A]);const{isOpen:j,onOpen:H,onClose:W}=Tt();return c.jsxs(Et,{as:"section",id:"collection",maxW:{base:"98vw",md:"95vw"},py:10,children:[c.jsxs(Q,{gap:4,flexDir:r?"column":"row",justify:r?"center":"space-between",align:r?"start":"space-between",children:[c.jsxs(qe,{gap:2,children:[c.jsx(Z,{fontSize:{base:"18px",sm:"20px",md:"22px",lg:"24px"},fontWeight:500,textTransform:"capitalize",children:i}),c.jsx(It,{})]}),c.jsx($t,{isControlled:!1,value:m,placeholder:"Sort by",name:"sort",handleChange:oe,options:At})]}),c.jsxs(Vt,{isOpen:j,onClose:W,children:[c.jsx(Ne,{onClose:W}),c.jsx(ze,{handleSizeSelect:N,handleColorSelect:O})]}),c.jsx(Rt,{"aria-label":"Filter",icon:c.jsx(Ct,{as:Ft,boxSize:6}),p:1,colorScheme:"gray",display:{base:"block",md:"none"},onClick:H}),c.jsxs(Q,{py:5,gap:4,children:[c.jsx(Q,{w:{sm:"200px",md:"250px"},display:{base:"none",md:"flex"},minH:window.innerHeight,children:c.jsxs(Q,{flexDir:"column",gap:4,w:"full",children:[c.jsx(Ne,{}),c.jsx(Cn,{name:"price",priceRange:D,onChangeEnd:S=>U(S)}),c.jsx(ze,{handleSizeSelect:N,handleColorSelect:O})]})}),c.jsxs(Q,{w:"full",flexDir:"column",gap:4,children:[pe||se?c.jsx(jt,{height:"500px"}):y&&((q=y.data)==null?void 0:q.length)>0?c.jsx(Mt,{columnsCountBreakPoints:Dt,children:c.jsx(_t,{gutter:r?"10px":"20px",children:y==null?void 0:y.data.map(S=>c.jsx(Nt,{data:S,discountPercent:S==null?void 0:S.discount,colorOptions:(S==null?void 0:S.product_properties)&&S.product_properties},S.id))})}):c.jsx(Z,{fontSize:"xl",children:"No products found"}),(y==null?void 0:y.pagination)&&(y==null?void 0:y.pagination.total_items)>12&&c.jsx(zt,{currentPage:((J=y==null?void 0:y.pagination)==null?void 0:J.current_page)??f,setCurrentPage:v,totalPages:((K=y==null?void 0:y.pagination)==null?void 0:K.total_pages)??2,sort:m})]})]})]})}export{er as default};
