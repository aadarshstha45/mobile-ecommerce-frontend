import{k as E,l as M,n as T,r as t,v as O,q as R,j as e,C as U,F as o,S as A,T as H,s as I,L as j,M as J,t as W,N as q}from"./index-DBpBJgBg.js";import{B as Q}from"./index-CjtVGMJN.js";import{s as _,F as $,C as w,a as C,S as G}from"./data-BiHilp3-.js";import{S as K}from"./SelectInput-BBhmW8Wo.js";import{c as V,I as X}from"./index-DzunZXTv.js";import"./chevron-right-CzAPA45w.js";import"./index.esm-CUKyRdNH.js";import"./chunk-H46NUPBZ-Dqz4aTw6.js";import"./index-BYxot1-T.js";import"./GoogleIcon-FfxQcopZ.js";import"./TextInput-DTWfQ68C.js";import"./x-DppQxKWf.js";import"./auth-y1uw9IIe.js";import"./zod-Bo22Eriy.js";import"./chunk-EC6XFFZH-CpWZ_OXG.js";import"./chunk-6SZ7MXCX-CgAdxtCa.js";import"./index-BjeaqCTD.js";import"./chunk-2EW3JUUD-CVckVWgx.js";import"./chunk-YQO7BFFX-Ch67iYRN.js";import"./chunk-FHHZMTWR-DLTab1xL.js";import"./shopping-bag-L_DKKR5h.js";function we(){var S;const v=E(),[i]=M("(max-width: 540px)"),x=T(),y=x.pathname.split("/")[1].replace(/-/g," "),r=new URLSearchParams(x.search),l=Number(r.get("page"))||1,h=r.get("sort")||"newest",[Y,b]=t.useState(1),[u,d]=t.useState("newest"),[c,F]=t.useState([]),[p,k]=t.useState([]),{data:a,isPending:N,isFetching:D}=O(l,u,JSON.stringify(c),JSON.stringify(p));t.useEffect(()=>{b(l)},[l]),t.useEffect(()=>{d(h)},[h]);const z=s=>{d(s.value),s.value!==""&&(r.set("page","1"),r.set("sort",s.value),v(`?${r.toString()}`))},g=(s,n)=>{F(s.target.checked?[...c,n]:c.filter(m=>m!==n)),window.scroll({top:0,behavior:"smooth"})},f=(s,n)=>{k(s.target.checked?[...p,n]:p.filter(m=>m!==n)),window.scroll({top:0,behavior:"smooth"})},{isOpen:P,onOpen:B,onClose:L}=R();return e.jsxs(U,{as:"section",id:"collection",maxW:{base:"98vw",md:"95vw"},py:10,children:[e.jsxs(o,{gap:4,flexDir:i?"column":"row",justify:i?"center":"space-between",align:i?"start":"space-between",children:[e.jsxs(A,{gap:2,children:[e.jsx(H,{fontSize:{base:"18px",sm:"20px",md:"22px",lg:"24px"},fontWeight:500,textTransform:"capitalize",children:y}),e.jsx(Q,{})]}),e.jsx(K,{isControlled:!1,value:u,placeholder:"Sort by",name:"sort",handleChange:z,options:_})]}),e.jsxs($,{isOpen:P,onClose:L,children:[e.jsx(w,{}),e.jsx(C,{handleSizeSelect:g,handleColorSelect:f})]}),e.jsx(I,{"aria-label":"Filter",as:G,cursor:"pointer",size:"xs",p:1,colorScheme:"gray",display:{base:"block",sm:"none"},onClick:B}),e.jsxs(o,{py:4,gap:4,children:[e.jsx(o,{w:{sm:"200px",md:"250px"},display:{base:"none",sm:"flex"},minH:window.innerHeight,children:e.jsxs(o,{flexDir:"column",gap:4,w:"full",children:[e.jsx(w,{}),e.jsx(C,{handleSizeSelect:g,handleColorSelect:f})]})}),e.jsx(o,{w:"full",flexDir:"column",gap:4,children:N?e.jsx(j,{height:"500px"}):e.jsx(o,{flexDir:"column",gap:4,children:D?e.jsx(j,{height:"500px"}):a&&((S=a.data)==null?void 0:S.length)>0?e.jsx(J,{columnsCountBreakPoints:V,children:e.jsx(W,{gutter:i?"10px":"20px",children:a==null?void 0:a.data.map(s=>e.jsx(X,{data:s,discountPercent:s==null?void 0:s.discount},s.id))})}):e.jsx(q,{to:"/"})})})]})]})}export{we as default};
