import{l as S,j as s,o as T,Q as y,r as f,L as C,F as O,S as b,T as h,am as P,an as _,ao as R,C as w,ap as F,aF as L,aq as M,Y as $,a4 as k,c as D}from"./index-C3jGOrgU.js";import{b as z}from"./index-Dn3WBIXS.js";import{P as I}from"./PaginationButton-CRc_yROt.js";import{u as N,T as v,a as B,b as E,c as p,d as t,e as H,f as r}from"./chunk-MGVPL3OH-C5hdX6kP.js";import{C as q}from"./chunk-YQO7BFFX-CWLMIit9.js";import{C as Q}from"./chunk-2EW3JUUD-CtAwO53T.js";import"./chevron-right-CdazZhIJ.js";var U=S((o,c)=>{const l=N();return s.jsx(T.tfoot,{...o,ref:c,__css:l.tfoot})});const W=({data:o,isPending:c})=>{const{isOpen:l,onOpen:m,onClose:g}=y(),[a,d]=f.useState(null),u=e=>{m(),d(e)},n=()=>{d(null),g()};return s.jsxs(s.Fragment,{children:[c?s.jsx(C,{height:window.innerHeight/2}):o&&o.length>0?o.map(e=>s.jsx(q,{cursor:"pointer",zIndex:0,shadow:"none",borderRadius:0,p:0,border:"1px solid",borderColor:"#939292",mb:4,onClick:()=>u(e),children:s.jsxs(Q,{as:O,justify:"space-between",align:"center",flexWrap:"wrap",gap:6,children:[s.jsxs(b,{children:[s.jsxs(h,{fontSize:{base:"sm",md:"md"},children:["Order Id: #",e.order_number]}),s.jsxs(h,{fontSize:{base:"14px",md:"16px",lg:"18px"},color:"#939292",children:["Placed On: ",e.order_date]})]}),s.jsx(b,{align:"center",gap:2,children:s.jsxs(h,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Rs. ",e.total_amount]})})]})},e.id)):s.jsx(h,{children:"No data found"}),a&&s.jsxs(P,{isOpen:l,onClose:n,motionPreset:"slideInTop",children:[s.jsx(_,{}),s.jsxs(R,{px:1,as:w,maxW:{base:"98vw",lg:"fit-content"},children:[s.jsx(F,{}),s.jsxs(L,{children:["Order Id: #",a.order_number]}),s.jsx(M,{children:s.jsx(v,{children:s.jsxs(B,{children:[s.jsx(E,{children:s.jsxs(p,{children:[s.jsx(t,{children:"S.N."}),s.jsx(t,{children:"Product Name"}),s.jsx(t,{children:"Quantity"}),s.jsx(t,{children:"Price"}),s.jsx(t,{children:"Discount"}),s.jsx(t,{children:"Amount"})]})}),s.jsx(H,{children:a.order_items.map((e,j)=>{var i,x;return s.jsxs(p,{children:[s.jsx(r,{children:j+1}),s.jsx(r,{children:s.jsx($,{as:k,to:e.product.subcategory?`/product/${(i=e.product.category)==null?void 0:i.slug}/${e.product.subcategory.slug}/${e.product.id}`:`/product/${(x=e.product.category)==null?void 0:x.slug}/${e.product.id}`,children:e.product.name})}),s.jsx(r,{children:e.quantity}),s.jsxs(r,{children:["Rs. ",e.price]}),s.jsxs(r,{children:["Rs. ",e.discount??0]}),s.jsxs(r,{children:["Rs. ",e.total]})]},j)})}),s.jsxs(U,{children:[s.jsxs(p,{children:[s.jsx(r,{colSpan:3}),s.jsx(r,{children:"Discount"}),s.jsxs(r,{children:["Rs. ",a.discount_amount??0]}),s.jsx(r,{})]}),s.jsxs(p,{children:[s.jsx(r,{colSpan:3}),s.jsx(r,{children:"Grand Total"}),s.jsx(r,{}),s.jsxs(r,{children:["Rs. ",a.total_amount]})]})]})]})})})]})]})]})},Z=({fromDate:o,toDate:c,status:l})=>{var i,x;const m=D(),g=new URLSearchParams(m.search),a=Number(g.get("page"))||1,[d,u]=f.useState(1),{data:n,isPending:e,isFetching:j}=z(d,l,o,c);return f.useEffect(()=>{u(a)},[a]),s.jsxs(O,{flexDir:"column",gap:4,children:[s.jsx(b,{gap:4}),j?s.jsx(C,{}):s.jsx(W,{data:n==null?void 0:n.data,isPending:e}),s.jsx(I,{currentPage:((i=n==null?void 0:n.pagination)==null?void 0:i.current_page)??d,setCurrentPage:u,totalPages:((x=n==null?void 0:n.pagination)==null?void 0:x.total_pages)??10})]})};export{Z as default};
