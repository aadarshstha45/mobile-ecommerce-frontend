import{t as T,j as s,x as y,$ as P,r as f,l as C,F as O,i as b,T as h,aq as S,ar as _,as as R,C as w,at as $,aK as F,au as L,L as M,a as k,f as D}from"./index-DQ2lrmGm.js";import{b as z}from"./index-DN8y_mam.js";import{P as I}from"./PaginationButton-B_gHwS93.js";import{u as N,T as v,a as B,b as E,c as p,d as o,e as H,f as r}from"./chunk-MGVPL3OH-DqGGanKL.js";import{C as q}from"./chunk-YQO7BFFX-C-Y5cD9s.js";import{C as U}from"./chunk-2EW3JUUD-DYLPTi_b.js";import"./chevron-right-C3FDJPkL.js";var W=T((t,c)=>{const l=N();return s.jsx(y.tfoot,{...t,ref:c,__css:l.tfoot})});const A=({data:t,isPending:c})=>{const{isOpen:l,onOpen:g,onClose:m}=P(),[a,d]=f.useState(null),u=e=>{g(),d(e)},n=()=>{d(null),m()};return s.jsxs(s.Fragment,{children:[c?s.jsx(C,{height:window.innerHeight/2}):t&&t.length>0?t.map(e=>s.jsx(q,{cursor:"pointer",zIndex:0,shadow:"none",borderRadius:0,p:0,border:"1px solid",borderColor:"#939292",mb:4,onClick:()=>u(e),children:s.jsxs(U,{as:O,justify:"space-between",align:"center",flexWrap:"wrap",gap:6,children:[s.jsxs(b,{children:[s.jsxs(h,{fontSize:{base:"sm",md:"md"},children:["Order Id: #",e.order_number]}),s.jsxs(h,{fontSize:{base:"14px",md:"16px",lg:"18px"},color:"#939292",children:["Placed On: ",e.order_date]})]}),s.jsx(b,{align:"center",gap:2,children:s.jsxs(h,{fontSize:{base:"16px",md:"18px",lg:"20px"},children:["Rs. ",e.total_amount]})})]})},e.id)):s.jsx(h,{children:"No data found"}),a&&s.jsxs(S,{isOpen:l,onClose:n,motionPreset:"slideInTop",children:[s.jsx(_,{}),s.jsxs(R,{px:1,as:w,maxW:{base:"98vw",lg:"fit-content"},children:[s.jsx($,{}),s.jsxs(F,{children:["Order Id: #",a.order_number]}),s.jsx(L,{children:s.jsx(v,{children:s.jsxs(B,{children:[s.jsx(E,{children:s.jsxs(p,{children:[s.jsx(o,{children:"S.N."}),s.jsx(o,{children:"Product Name"}),s.jsx(o,{children:"Quantity"}),s.jsx(o,{children:"Price"}),s.jsx(o,{children:"Discount"}),s.jsx(o,{children:"Amount"})]})}),s.jsx(H,{children:a.order_items.map((e,j)=>{var i,x;return s.jsxs(p,{children:[s.jsx(r,{children:j+1}),s.jsx(r,{children:s.jsx(M,{as:k,to:e.product.subcategory?`/product/${(i=e.product.category)==null?void 0:i.slug}/${e.product.subcategory.slug}/${e.product.id}`:`/product/${(x=e.product.category)==null?void 0:x.slug}/${e.product.id}`,children:e.product.name})}),s.jsx(r,{children:e.quantity}),s.jsxs(r,{children:["Rs. ",e.price]}),s.jsxs(r,{children:["Rs. ",e.discount??0]}),s.jsxs(r,{children:["Rs. ",e.total]})]},j)})}),s.jsxs(W,{children:[s.jsxs(p,{children:[s.jsx(r,{colSpan:3}),s.jsx(r,{children:"Discount"}),s.jsxs(r,{children:["Rs. ",a.discount_amount??0]}),s.jsx(r,{})]}),s.jsxs(p,{children:[s.jsx(r,{colSpan:3}),s.jsx(r,{children:"Grand Total"}),s.jsx(r,{}),s.jsxs(r,{children:["Rs. ",a.total_amount]})]})]})]})})})]})]})]})},Z=({fromDate:t,toDate:c,status:l})=>{var i,x;const g=D(),m=new URLSearchParams(g.search),a=Number(m.get("page"))||1,[d,u]=f.useState(1),{data:n,isPending:e,isFetching:j}=z(d,l,t,c);return f.useEffect(()=>{u(a)},[a]),s.jsxs(O,{flexDir:"column",gap:4,children:[s.jsx(b,{gap:4}),j?s.jsx(C,{}):s.jsx(A,{data:n==null?void 0:n.data,isPending:e}),s.jsx(I,{currentPage:((i=n==null?void 0:n.pagination)==null?void 0:i.current_page)??d,setCurrentPage:u,totalPages:((x=n==null?void 0:n.pagination)==null?void 0:x.total_pages)??10})]})};export{Z as default};
