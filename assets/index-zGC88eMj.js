import{k as E,l as M,n as T,r as t,w as H,q as O,j as e,C as R,F as o,S as U,T as A,s as I,L as w,M as J,v as W,N as q}from"./index-CkiCkVzJ.js";import{B as Q}from"./index-DqiilqXs.js";import{s as _,F as $,C,a as v,H as G}from"./data-SusJ4UOG.js";import{S as K}from"./SelectInput-Cp7MsvuN.js";import{c as V,I as X}from"./index-DDX6UQql.js";import"./CaretRight-DbpUTEgM.js";import"./index.esm-CeDGwYn6.js";import"./chunk-H46NUPBZ-GRMvZQK7.js";import"./index-DFZc1jet.js";import"./GoogleIcon-Bd6cZ3ux.js";import"./Lock-DBLbrESX.js";import"./TextInput-BLwJ8rby.js";import"./X-BNpK52mh.js";import"./auth-CvLxuKRB.js";import"./zod-CPbSKUVH.js";import"./profile-B_ZtDsEm.js";import"./review-DgHCnSm3.js";import"./index-CvoN93Gi.js";import"./chunk-2EW3JUUD-DjtfUbRs.js";import"./chunk-YQO7BFFX-BXTouEWa.js";import"./chunk-FHHZMTWR-Bab8_tnk.js";function we(){var S;const y=E(),[i]=M("(max-width: 540px)"),x=T(),b=x.pathname.split("/")[1].replace(/-/g," "),r=new URLSearchParams(x.search),l=Number(r.get("page"))||1,d=r.get("sort")||"newest",[Y,F]=t.useState(1),[h,u]=t.useState("newest"),[c,k]=t.useState([]),[p,N]=t.useState([]),{data:a,isPending:D,isFetching:z}=H(l,h,JSON.stringify(c),JSON.stringify(p));t.useEffect(()=>{F(l)},[l]),t.useEffect(()=>{u(d)},[d]);const P=s=>{u(s.value),s.value!==""&&(r.set("page","1"),r.set("sort",s.value),y(`?${r.toString()}`))},g=(s,n)=>{k(s.target.checked?[...c,n]:c.filter(m=>m!==n)),window.scroll({top:0,behavior:"smooth"})},f=(s,n)=>{N(s.target.checked?[...p,n]:p.filter(m=>m!==n)),window.scroll({top:0,behavior:"smooth"})},{isOpen:B,onOpen:L,onClose:j}=O();return e.jsxs(R,{as:"section",id:"collection",maxW:{base:"98vw",md:"95vw"},py:10,children:[e.jsxs(o,{gap:4,flexDir:i?"column":"row",justify:i?"center":"space-between",align:i?"start":"space-between",children:[e.jsxs(U,{gap:2,children:[e.jsx(A,{fontSize:{base:"18px",sm:"20px",md:"22px",lg:"24px"},fontWeight:500,textTransform:"capitalize",children:b}),e.jsx(Q,{})]}),e.jsx(K,{isControlled:!1,value:h,placeholder:"Sort by",name:"sort",handleChange:P,options:_})]}),e.jsxs($,{isOpen:B,onClose:j,children:[e.jsx(C,{onClose:j}),e.jsx(v,{handleSizeSelect:g,handleColorSelect:f})]}),e.jsx(I,{"aria-label":"Filter",as:G,cursor:"pointer",size:"xs",p:1,colorScheme:"gray",display:{base:"block",md:"none"},onClick:L}),e.jsxs(o,{py:4,gap:4,children:[e.jsx(o,{w:{sm:"200px",md:"250px"},display:{base:"none",md:"flex"},minH:window.innerHeight,children:e.jsxs(o,{flexDir:"column",gap:4,w:"full",children:[e.jsx(C,{}),e.jsx(v,{handleSizeSelect:g,handleColorSelect:f})]})}),e.jsx(o,{w:"full",flexDir:"column",gap:4,children:D?e.jsx(w,{height:"500px"}):e.jsx(o,{flexDir:"column",gap:4,children:z?e.jsx(w,{height:"500px"}):a&&((S=a.data)==null?void 0:S.length)>0?e.jsx(J,{columnsCountBreakPoints:V,children:e.jsx(W,{gutter:i?"10px":"20px",children:a==null?void 0:a.data.map(s=>e.jsx(X,{data:s,discountPercent:s==null?void 0:s.discount},s.id))})}):e.jsx(q,{to:"/"})})})]})]})}export{we as default};
