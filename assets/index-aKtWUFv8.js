import{w as D,b7 as $,ax as R,aM as k,V as W,j as s,aD as M,aE as E,aF as H,b9 as T,aH as _,as as c,aN as V,T as n,Y as C,a4 as b,a2 as y,B as l,aK as G,aO as N,Q as q,r as B,S as I,F as g,x as P,b6 as O,aJ as J,I as K,az as Q}from"./index-BTNegxn6.js";import{a as Y,u as Z}from"./index-CaUYnNwV.js";import{A as U,G as X}from"./GoogleIcon-B-uka8J-.js";import"./SelectInput-D7O88_D5.js";import{T as z}from"./TextInput-DnqPEWIU.js";import{L as ee}from"./auth-lGRmtHiV.js";import{A as se,L as te}from"./chunk-EC6XFFZH-BDN_Hr6j.js";import{t as oe}from"./zod-CKXNkm52.js";import{L as re}from"./index-YjdQ-OMx.js";import{C as ie}from"./chunk-2EW3JUUD-eV4TN0fb.js";import{C as ne}from"./chunk-FHHZMTWR-CkosMvcB.js";import{C as ce}from"./chunk-YQO7BFFX-DEskQydj.js";import{S as ae}from"./shopping-bag-FfKHmzXg.js";var le=D({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"});const f={getProducts:"/get-products",getProductById:e=>`/get-product-details/${e}`,getRelatedProducts:e=>`/get-related-products/${e}`,getProductsByCategory:e=>`/get-products-by-category/${e}`,getProductsBySearch:e=>`/get-products-by-search/${e}`,getProductsByFilter:e=>`/get-products-by-filter/${e}`,getProductsByPrice:(e,r)=>`/get-products-by-price/${e}/${r}`,getProductsByRating:e=>`/get-products-by-rating/${e}`,getProductsByDiscount:e=>`/get-products-by-discount/${e}`,getProductsByColor:e=>`/get-products-by-color/${e}`,getProductsBySize:e=>`/get-products-by-size/${e}`,getProductsByBrand:e=>`/get-products-by-brand/${e}`,getProductsByTag:e=>`/get-products-by-tag/${e}`,getProductsByType:e=>`/get-products-by-type/${e}`,getProductsByMaterial:e=>`/get-products-by-material/${e}`,getProductsByPattern:e=>`/get-products-by-pattern/${e}`,getProductsByStyle:e=>`/get-products-by-style/${e}`,getProductsByTheme:e=>`/get-products-by-theme/${e}`,getProductsByOccasion:e=>`/get-products-by-occasion/${e}`,getProductsBySeason:e=>`/get-products-by-season/${e}`,addViewAction:"/add-view-action"},Ie=e=>$({apiEndPoint:f.getProductById(e)}),Pe=e=>$({apiEndPoint:f.getRelatedProducts(e)}),de=()=>R({apiEndPoint:f.addViewAction});function pe({isOpen:e,onClose:r}){const{mutateAsync:t,isPending:m}=k(),{control:d,formState:{errors:p},reset:a,handleSubmit:o}=W({defaultValues:{email:"",password:""},resolver:oe(ee)}),u=async x=>{await t(x),a({email:"",password:""}),r(),a()},h=()=>{a({email:"",password:""}),r()};return s.jsxs(M,{isOpen:e,onClose:h,children:[s.jsx(E,{}),s.jsxs(H,{as:"form",onSubmit:o(u),children:[s.jsx(T,{textAlign:"center",children:"Login"}),s.jsxs(_,{py:6,children:[s.jsx(z,{errors:p,label:"Email",name:"email",control:d,leftIcon:s.jsx(se,{}),isRequired:!0}),s.jsx(z,{errors:p,label:"Password",name:"password",type:"password",control:d,leftIcon:s.jsx(te,{}),isRequired:!0}),s.jsxs(c,{justifyContent:"space-between",mt:4,flexWrap:"wrap",children:[s.jsx(V,{colorScheme:"primary",size:{base:"sm",md:"md"},children:s.jsx(n,{fontSize:{base:"14px",sm:"16px"},children:"Remember me"})}),s.jsx(C,{as:b,size:"lg",to:"/reset-password",color:"primary.500",mt:2,fontSize:{base:"14px",sm:"16px"},children:"Forgot Password?"})]}),s.jsx(y,{type:"submit",colorScheme:"primary",w:"100%",mt:8,size:{base:"sm",md:"md"},borderRadius:0,isLoading:m,children:"Log In"}),s.jsx(C,{as:b,to:"/register",color:"primary.500",mt:4,fontSize:{base:"14px",sm:"16px"},textAlign:"center",children:"Don't have an account? Register"}),s.jsxs(l,{pos:"relative",w:"100%",my:10,children:[s.jsx(G,{borderColor:"black",opacity:1,w:"full"}),s.jsx(U,{fontSize:"12px",px:4,bg:"white",children:"OR continue with"})]}),s.jsxs(c,{align:"center",justify:"center",flexWrap:"wrap",spacing:4,children:[s.jsx(y,{colorScheme:"primary",variant:"outline",size:{base:"sm",md:"md"},leftIcon:s.jsx(X,{boxSize:6}),children:"Google"}),s.jsx(y,{colorScheme:"facebook",variant:"outline",size:{base:"sm",md:"md"},leftIcon:s.jsx(N,{boxSize:6}),children:"Facebook"})]})]})]})]})}const ze={0:1,350:2,850:3,1300:4},$e=({data:e,colorOptions:r,discountPercent:t,imageWidth:m})=>{var j,S,w;const{isOpen:d,onOpen:p,onClose:a}=q(),{data:o}=Y(),[u,h]=B.useState(!1),x=Z(),F=async i=>{Q.isAuthenticated()?await x.mutateAsync({product_id:i}):p()},L=de();B.useEffect(()=>{o!=null&&o.data&&(o==null?void 0:o.data.length)>0&&h(o.data.some(i=>i.id===e.id))},[o,e.id]);const v=async i=>{await L.mutateAsync({product_id:i})};return e?s.jsxs(s.Fragment,{children:[s.jsx(pe,{isOpen:d,onClose:a}),e&&s.jsx(b,{onClick:()=>v(e.id),to:e!=null&&e.subcategory?`/product/${(j=e==null?void 0:e.category)==null?void 0:j.slug}/${e==null?void 0:e.subcategory.slug}/${e.id}`:`/product/${(S=e==null?void 0:e.category)==null?void 0:S.slug}/${e.id}`,children:s.jsxs(ce,{overflow:"hidden",h:"auto",w:"full",shadow:"none",borderRadius:0,role:"group",children:[s.jsxs(ie,{pos:"relative",overflow:"hidden",border:"1px solid #D2CFCF",p:0,children:[s.jsxs(I,{opacity:{base:0,md:1},zIndex:90,gap:2,pos:"absolute",right:4,top:4,children:[s.jsx(g,{border:"1px solid #D2CFCF",borderRadius:"50%",bg:"#D9D9D9",_hover:{bg:"#C6C6C6"},justify:"center",align:"center",p:2,children:s.jsx(P,{as:ae})}),s.jsx(g,{border:"1px solid #D2CFCF",borderRadius:"50%",bg:"#D9D9D9",_hover:{bg:"#C6C6C6"},justify:"center",align:"center",p:2,onClick:i=>{i.preventDefault(),F(e.id)},children:x.isPending?s.jsx(O,{size:"xs"}):s.jsx(P,{as:J,fill:u?"red.500":"",textColor:u?"red.500":""})})]}),e.image?s.jsx(l,{_groupHover:{transition:"0.3s",transform:"scale(1.1)",zIndex:-1},children:s.jsx(re,{id:e.id,src:e.image,alt:e.id.toString(),w:m??"full"})}):s.jsx(g,{w:"full",h:"full",bg:"#D9D9D9",children:s.jsx(K,{w:"full",aspectRatio:1/1,src:"https://bit.ly/naruto-sage",alt:"naruto",objectFit:"cover"})}),s.jsxs(g,{pos:"absolute",top:4,left:4,flexDir:"column",w:"fit-content",textColor:"white",gap:2,children:[(e==null?void 0:e.is_new)&&s.jsx(l,{w:"fit-content",px:1,bg:"primary.500",fontSize:"12px",children:"New"}),t>0&&s.jsxs(l,{w:"fit-content",px:1,py:.5,bg:"red.400",fontSize:"12px",children:[t," %"]})]})]}),s.jsxs(ne,{px:0,children:[s.jsx(n,{fontSize:"12px",fontWeight:600,textColor:"#939292",children:(w=e.category)==null?void 0:w.name}),s.jsx(I,{mb:2,children:s.jsx(n,{noOfLines:1,fontSize:{base:"14px",sm:"16px",lg:"18px"},fontWeight:500,children:e.name})}),s.jsx(c,{justify:"space-between",children:r&&s.jsx(c,{spacing:"4px",children:r==null?void 0:r.map((i,A)=>s.jsx(l,{h:"14px",w:"14px",borderRadius:"50%",bg:i.hex_value},A))})}),s.jsxs(c,{spacing:"2px",children:[s.jsx(le,{boxSize:3,color:"#FFC700"}),s.jsx(n,{fontSize:"12px",fontWeight:500,textColor:"#939292",children:"4.5 (200)"})]}),s.jsxs(c,{gap:2,mt:2,children:[t&&s.jsxs(n,{fontSize:{base:"12px",sm:"14px",lg:"16px"},fontWeight:500,children:["Rs.",e.price*(1-t/100)]}),s.jsxs(n,{fontSize:t?{base:"10px",sm:"12px",lg:"14px"}:{base:"12px",sm:"14px",lg:"16px"},textColor:t?"#939292":"",textDecoration:t?"line-through":"none",fontWeight:t?400:500,children:["Rs. ",e.price]})]})]})]})})]}):null};export{$e as I,pe as M,le as S,Ie as a,ze as c,Pe as u};
