import{r as p,Q as W,j as s,F as t,T as r,L as z,a4 as P,as as g,I as k,aC as I,S as h,a2 as u,x as j,aV as L,b6 as F,a_ as R}from"./index-BTNegxn6.js";import{a as $,b as v}from"./index-CaUYnNwV.js";import{C as A}from"./chunk-YQO7BFFX-DEskQydj.js";import{C as N}from"./chunk-FHHZMTWR-CkosMvcB.js";import{C as O}from"./circle-plus-DiLQUo0b.js";const M=()=>{var d;const[n,f]=p.useState(5),{data:a,isPending:y,isFetching:m}=$(n),[i,o]=p.useState(null),{isOpen:b,onOpen:w,onClose:l}=W(),c=v(),S=e=>{o(e),w()},C=async()=>{i&&(await c.mutateAsync(i),o(null),l())};return s.jsxs(t,{flexDir:"column",gap:4,children:[s.jsx(r,{fontSize:"xl",children:"My WishList"}),y?s.jsx(z,{height:window.innerHeight/2}):a.data&&a.data.length>0?s.jsx(t,{justify:"start",align:"start",flexDir:"column",gap:4,children:a.data.map(e=>{var x;return s.jsx(A,{w:{base:"full",lg:"60%"},border:"1px solid",borderRadius:0,p:0,shadow:"none",children:s.jsx(P,{to:e!=null&&e.subcategory?`/product/${e.category.slug}/${e.subcategory.slug}/${e.id}`:`/product/${e.category.slug}/${e.id}`,children:s.jsxs(N,{flexWrap:"wrap",p:4,gap:4,as:t,justify:{base:"end",md:"space-between"},align:"center",children:[s.jsxs(g,{align:"start",spacing:4,w:{base:"full",md:"60%"},children:[s.jsx(k,{src:e.image??I,alt:"No Image",w:"100px",objectFit:"cover",objectPosition:"center",aspectRatio:1/1}),s.jsxs(h,{gap:0,children:[s.jsx(r,{fontSize:{base:"14px",md:"20px"},children:e.name}),s.jsx(r,{textColor:"gray.500",fontSize:{base:"12px",md:"16px"},children:(x=e.category)==null?void 0:x.name})]})]}),s.jsxs(r,{size:"md",children:["Rs. ",e==null?void 0:e.price]}),s.jsx(g,{children:s.jsx(u,{onClick:D=>{D.preventDefault(),S(e.id)},colorScheme:"red",borderRadius:2,size:"xs",children:s.jsx(j,{as:L,cursor:"pointer"})})})]})})},e.id)})}):s.jsx(r,{textAlign:"center",fontSize:{base:"sm",md:"md",lg:"lg",xl:"xl"},fontWeight:500,children:"No items in your wishlist"}),((d=a==null?void 0:a.pagination)==null?void 0:d.total_pages)>1&&s.jsx(h,{w:{base:"full",lg:"60%"},align:"center",mr:10,justify:"center",children:m?s.jsx(F,{thickness:"4px",color:"primary.500"}):s.jsx(u,{variant:"unstyled",w:"fit-content",colorScheme:"primary",onClick:()=>f(n+5),children:s.jsx(j,{_hover:{color:"primary.600"},color:"primary.500",as:O,boxSize:6})})}),s.jsx(R,{isOpen:b,onClose:l,heading:"Delete Wishlist?",message:"Are you sure you want to delete this wishlist?",onDelete:C,isDeleting:c.isPending})]})};export{M as default};
