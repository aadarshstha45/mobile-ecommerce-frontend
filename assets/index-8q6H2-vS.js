import{aS as b,ax as g,V as T,j as e,aD as w,aE as R,aF as f,aG as y,aT as S,aH as F,aU as M,a2 as x,r as P,Q as I,L as z,F as E,I as B,T as u}from"./index-CpGNqzAf.js";import"./SelectInput-hUO6FQHG.js";import{T as p}from"./TextInput-BYGBnmSL.js";import{T as C,a as L,c as A,b as O,d as c}from"./chunk-T2WCTPDH-DmwVBTTn.js";import{T as H,a as V,b as j,c as k,d as D,e as h}from"./chunk-IAXSQ4X2-BliKEHX5.js";import"./chunk-H46NUPBZ-CJujcYIV.js";import"./x-OvysVRsN.js";const m={add:"/product-review",getTo:"/product-to-be-reviewed",getReviewed:"/product-review"},G=()=>g({apiEndPoint:m.add,inValidateEndpoint:m.getTo,message:"Review added successfully"}),N=()=>b({apiEndPoint:m.getTo}),Q=({onClose:a,isOpen:n,productId:t})=>{const{control:i,handleSubmit:r}=T({defaultValues:{product_id:t,rating:4,review:"Hello"}}),{mutateAsync:o,isPending:d}=G(),l=async s=>{await o(s),a()};return e.jsxs(w,{isOpen:n,onClose:a,children:[e.jsx(R,{}),e.jsxs(f,{children:[e.jsx(y,{}),e.jsx(S,{children:"Add Review"}),e.jsx(F,{children:e.jsxs("form",{onSubmit:r(l),id:"review-form",children:[e.jsx(p,{control:i,name:"rating",label:"Rating"}),e.jsx(p,{control:i,name:"review",label:"Review"})]})}),e.jsxs(M,{gap:1,children:[e.jsx(x,{size:"sm",colorScheme:"gray",variant:"outline",onClick:a,children:"Cancel"}),e.jsx(x,{size:"sm",form:"review-form",type:"submit",isLoading:d,children:"Submit"})]})]})]})},U=()=>{const{data:a,isPending:n}=N(),[t,i]=P.useState(null),{isOpen:r,onOpen:o,onClose:d}=I(),l=s=>{i(s),o()};return e.jsxs(e.Fragment,{children:[e.jsx(Q,{onClose:d,isOpen:r,productId:t}),n?e.jsx(z,{}):a&&a.length>0?e.jsx(C,{children:e.jsx(L,{colorScheme:"primary",children:e.jsx(A,{children:a.map((s,v)=>e.jsxs(O,{children:[e.jsx(c,{children:e.jsxs(E,{gap:4,children:[e.jsx(B,{src:s.image,alt:s.name,w:"100px",aspectRatio:1/1}),e.jsx(u,{fontSize:{base:"14px",md:"16px",lg:"18px"},children:s.name})]})}),e.jsx(c,{}),e.jsx(c,{children:e.jsx(x,{onClick:()=>l(s.id),variant:"outline",children:"Review"})})]},v))})})}):e.jsx(u,{children:"No orders left to be reviewed"})]})},Z=()=>e.jsxs(H,{isLazy:!0,position:"relative",variant:"unstyled",children:[e.jsxs(V,{children:[e.jsx(j,{fontSize:{base:"sm",md:"md",xl:"lg"},children:"To Review"}),e.jsx(j,{fontSize:{base:"sm",md:"md",xl:"lg"},children:"Reviewed"})]}),e.jsx(k,{mt:"-1.5px",height:"4px",bg:"primary.500",borderRadius:"1px"}),e.jsxs(D,{mt:8,children:[e.jsx(h,{p:0,children:e.jsx(U,{})}),e.jsx(h,{p:0,children:"2"})]})]});export{Z as default};
